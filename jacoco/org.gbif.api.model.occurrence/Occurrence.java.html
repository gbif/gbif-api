<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Occurrence.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">GBIF Common :: API</a> &gt; <a href="index.source.html" class="el_package">org.gbif.api.model.occurrence</a> &gt; <span class="el_source">Occurrence.java</span></div><h1>Occurrence.java</h1><pre class="source lang-java linenums">/*
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package org.gbif.api.model.occurrence;

import org.gbif.api.annotation.Experimental;
import org.gbif.api.model.common.Classification;
import org.gbif.api.model.common.Identifier;
import org.gbif.api.model.common.LinneanClassification;
import org.gbif.api.model.common.LinneanClassificationKeys;
import org.gbif.api.model.common.MediaObject;
import org.gbif.api.util.ClassificationUtils;
import org.gbif.api.util.IsoDateInterval;
import org.gbif.api.vocabulary.BasisOfRecord;
import org.gbif.api.vocabulary.Continent;
import org.gbif.api.vocabulary.Country;
import org.gbif.api.vocabulary.GbifRegion;
import org.gbif.api.vocabulary.License;
import org.gbif.api.vocabulary.OccurrenceIssue;
import org.gbif.api.vocabulary.OccurrenceStatus;
import org.gbif.api.vocabulary.Rank;
import org.gbif.api.vocabulary.Sex;
import org.gbif.api.vocabulary.TaxonomicStatus;
import org.gbif.dwc.terms.DwcTerm;
import org.gbif.dwc.terms.GbifTerm;
import org.gbif.dwc.terms.Term;
import org.gbif.dwc.terms.UnknownTerm;

import java.lang.reflect.Field;
import java.lang.reflect.Modifier;
import java.net.URI;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.Date;
import java.util.EnumSet;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.Objects;
import java.util.Optional;
import java.util.Set;
import java.util.stream.Collectors;
import java.util.stream.Stream;

import javax.annotation.Nullable;
import javax.validation.constraints.Max;
import javax.validation.constraints.Min;
import javax.validation.constraints.NotNull;

import com.fasterxml.jackson.annotation.JsonAnyGetter;
import com.fasterxml.jackson.annotation.JsonIgnore;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.databind.annotation.JsonDeserialize;
import com.fasterxml.jackson.databind.annotation.JsonSerialize;

import io.swagger.v3.oas.annotations.ExternalDocumentation;
import io.swagger.v3.oas.annotations.media.Schema;
import lombok.EqualsAndHashCode;
import lombok.ToString;

/**
 * Represents an Occurrence as interpreted by GBIF, adding typed properties on top of the verbatim ones.
 */
<span class="pc bpc" id="L75" title="514 of 854 branches missed.">@EqualsAndHashCode</span>
<span class="nc" id="L76">@ToString</span>
@SuppressWarnings(&quot;unused&quot;)
public class Occurrence extends VerbatimOccurrence implements LinneanClassification, LinneanClassificationKeys {

  public static final String GEO_DATUM = &quot;WGS84&quot;;
  // keep names of ALL properties of this class in a set for jackson serialization, see #properties()
<span class="fc" id="L82">  private static final Set&lt;String&gt; PROPERTIES = Collections.unmodifiableSet(</span>
<span class="fc" id="L83">    Stream.concat(</span>
      // we need to these JSON properties manually because we have a fixed getter but no field for it
<span class="fc" id="L85">      Stream.of(DwcTerm.geodeticDatum.simpleName(), &quot;class&quot;, DwcTerm.countryCode.simpleName(), GbifTerm.gbifRegion.simpleName(), GbifTerm.publishedByGbifRegion.simpleName()),</span>
<span class="fc" id="L86">      Stream.concat(Arrays.stream(Occurrence.class.getDeclaredFields()),</span>
<span class="fc" id="L87">        Arrays.stream(VerbatimOccurrence.class.getDeclaredFields()))</span>
<span class="fc bfc" id="L88" title="All 2 branches covered.">        .filter(field -&gt; !Modifier.isStatic(field.getModifiers()))</span>
<span class="fc" id="L89">        .map(Field::getName)).collect(Collectors.toSet()));</span>

  // occurrence fields

  // OpenAPI documentation comes from the enumeration.
  private BasisOfRecord basisOfRecord;

  @Schema(
    description = &quot;The number of individuals present at the time of the Occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/individualCount&quot;
    )
  )
  private Integer individualCount;

  // OpenAPI documentation comes from the enumeration.
  private OccurrenceStatus occurrenceStatus;

  // OpenAPI documentation comes from the enumeration.
  private String sex;

  @Schema(
    description = &quot;The age class or life stage of the Organism(s) at the time the Occurrence was recorded.\n\n&quot; +
      &quot;Values are aligned to the [GBIF LifeStage vocabulary](https://registry.gbif.org/vocabulary/LifeStage/concepts)&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/lifeStage&quot;
    )
  )
  private String lifeStage;

  @Schema(
    description = &quot;Statement about whether an organism or organisms have been introduced to a given place and time &quot; +
      &quot;through the direct or indirect activity of modern humans.\n\n&quot; +
      &quot;Values are aligned to the [GBIF EstablishmentMeans vocabulary](https://registry.gbif.org/vocabulary/EstablishmentMeans/concepts),&quot; +
      &quot;which is derived from the [Darwin Core EstablishmentMeans vocabulary](https://dwc.tdwg.org/em/).&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/establishmentMeans&quot;
    )
  )
  private String establishmentMeans;

  @Schema(
    description = &quot;The degree to which an Organism survives, reproduces, and expands its range at the given &quot; +
      &quot;place and time.\n\n&quot; +
      &quot;Values are aligned to the [GBIF DegreeOfEstablishment vocabulary](https://registry.gbif.org/vocabulary/DegreeOfEstablishment/concepts),&quot; +
      &quot;which is derived from the [Darwin Core DegreeOfEstablishment vocabulary](https://dwc.tdwg.org/doe/).&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/degreeOfEstablishment&quot;
    )
  )
  private String degreeOfEstablishment;

  @Schema(
    description = &quot;The process by which an Organism came to be in a given place at a given time.\n\n&quot; +
    &quot;Values are aligned to the [GBIF Pathway vocabulary](https://registry.gbif.org/vocabulary/Pathway/concepts),&quot; +
    &quot;which is derived from the [Darwin Core Pathway vocabulary](https://dwc.tdwg.org/pw/).&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/pathway&quot;
    )
  )
  private String pathway;


  @Schema(
    description = &quot;The map of classifications associated with this occurrence keyed by checklistKey.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private Map&lt;String, Classification&gt; classifications;

  @Schema(
    description = &quot;A taxon key from the [GBIF backbone](https://doi.org/10.15468/39omei) for the most specific &quot; +
      &quot;(lowest rank) taxon for this occurrence.  This could be a synonym, see `acceptedTaxonKey`.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  @Deprecated
  private Integer taxonKey;

  @Schema(
    description = &quot;A taxon key from the [GBIF backbone](https://doi.org/10.15468/39omei) for the kingdom of this&quot; +
      &quot;occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  @Deprecated
  private Integer kingdomKey;

  @Schema(
    description = &quot;A taxon key from the [GBIF backbone](https://doi.org/10.15468/39omei) for the phylum of this&quot; +
      &quot;occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  @Deprecated
  private Integer phylumKey;

  @Schema(
    description = &quot;A taxon key from the [GBIF backbone](https://doi.org/10.15468/39omei) for the class of this&quot; +
      &quot;occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  @Deprecated
  private Integer classKey;

  @Schema(
    description = &quot;A taxon key from the [GBIF backbone](https://doi.org/10.15468/39omei) for the order of this&quot; +
      &quot;occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  @Deprecated
  private Integer orderKey;

  @Schema(
    description = &quot;A taxon key from the [GBIF backbone](https://doi.org/10.15468/39omei) for the family of this&quot; +
      &quot;occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  @Deprecated
  private Integer familyKey;

  @Schema(
    description = &quot;A taxon key from the [GBIF backbone](https://doi.org/10.15468/39omei) for the genus of this&quot; +
      &quot;occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  @Deprecated
  private Integer genusKey;

  @Schema(
    description = &quot;A taxon key from the [GBIF backbone](https://doi.org/10.15468/39omei) for the subgenus of this&quot; +
      &quot;occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  @Deprecated
  private Integer subgenusKey;

  @Schema(
    description = &quot;A taxon key from the [GBIF backbone](https://doi.org/10.15468/39omei) for the species of this&quot; +
      &quot;occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  @Deprecated
  private Integer speciesKey;

  @Schema(
    description = &quot;A taxon key from the [GBIF backbone](https://doi.org/10.15468/39omei) for the accepted taxon of &quot; +
      &quot;this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  @Deprecated
  private Integer acceptedTaxonKey;

  // taxonomy as name strings → LinneanClassification

  @Schema(
    description = &quot;The scientific name (including authorship) for the taxon from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.  This could be a synonym, see &quot; +
      &quot;also `acceptedScientificName`.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private String scientificName;  // the interpreted name matching taxonKey

  @Schema(
    description = &quot;The scientific name authorship for the taxon from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.  This could be a synonym, see &quot; +
      &quot;also `acceptedScientificName`.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private String scientificNameAuthorship;

  @Schema(
    description = &quot;The accepted scientific name (including authorship) for the taxon from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private String acceptedScientificName;

  @Schema(
    description = &quot;The kingdom name (excluding authorship) for the kingdom from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private String kingdom;

  @Schema(
    description = &quot;The phylum name (excluding authorship) for the phylum from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private String phylum;

  @Schema(
    description = &quot;The class name (excluding authorship) for the class from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  @JsonProperty(&quot;class&quot;)
  private String clazz;

  @Schema(
    description = &quot;The order name (excluding authorship) for the order from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private String order;

  @Schema(
    description = &quot;The family name (excluding authorship) for the family from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private String family;

  @Schema(
    description = &quot;The genus name (excluding authorship) for the genus from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private String genus;

  @Schema(
    description = &quot;The subgenus name (excluding authorship) for the subgenus from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private String subgenus;

  @Schema(
    description = &quot;The species name (excluding authorship) for the species from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private String species;

  // atomised scientific name

  @Schema(
    description = &quot;The genus name part of the species name from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/genericName&quot;
    )
  )
  private String genericName;

  @Schema(
    description = &quot;The specific name part of the species name from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/specificEpithet&quot;
    )
  )
  private String specificEpithet;

  @Schema(
    description = &quot;The infraspecific name part of the species name from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/infraspecificEpithet&quot;
    )
  )
  private String infraspecificEpithet;

  @Schema(
    description = &quot;The taxonomic rank of the most specific name in the scientificName.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/taxonRank&quot;
    )
  )
  private Rank taxonRank;

  @Schema(
    description = &quot;The status of the use of the scientificName as a label for a taxon.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/taxonomicStatus&quot;
    )
  )
  private TaxonomicStatus taxonomicStatus;

  @Schema(
    description = &quot;The IUCN Red List Category of the taxon of this occurrence.\n\n&quot; +
      &quot;See the [GBIF vocabulary](https://rs.gbif.org/vocabulary/iucn/threat_status/) for the values and their &quot; +
      &quot;definitions, and the [IUCN Red List of Threatened Species dataset in GBIF](https://doi.org/10.15468/0qnb58) &quot; +
      &quot;for the version of the Red List GBIF's interpretation procedures are using.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;GBIF vocabulary&quot;,
      url = &quot;https://rs.gbif.org/vocabulary/iucn/threat_status/&quot;
    )
  )
  private String iucnRedListCategory;

  // identification

  @Schema(
    description = &quot;The date on which the subject was determined as representing the Taxon.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/dateIdentified&quot;
    )
  )
  private Date dateIdentified;

  // location

  @Schema(
    description = &quot;The geographic latitude (in decimal degrees, using the WGS84 datum) of the geographic centre &quot; +
      &quot;of the location of the occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/decimalLatitude&quot;
    )
  )
  private Double decimalLatitude;

  @Schema(
    description = &quot;The geographic longitude (in decimal degrees, using the WGS84 datum) of the geographic centre &quot; +
      &quot;of the location of the occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/decimalLongitude&quot;
    )
  )
  private Double decimalLongitude;

  //coordinatePrecision and coordinateUncertaintyInMeters should be BigDecimal see POR-2795

  @Schema(
    description = &quot;A decimal representation of the precision of the coordinates given in the decimalLatitude and decimalLongitude.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/coordinatePrecision&quot;
    )
  )
  private Double coordinatePrecision;

  @Schema(
    description = &quot;The horizontal distance (in metres) from the given decimalLatitude and decimalLongitude &quot; +
      &quot;describing the smallest circle containing the whole of the Location.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/coordinateUncertaintyInMeters&quot;
    )
  )
  private Double coordinateUncertaintyInMeters;

  @Schema(
    description = &quot;**Deprecated.**  This value is always null.  It is an obsolete Darwin Core term.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  @Deprecated //see getter
  private Double coordinateAccuracy;

  @Schema(
    description = &quot;Elevation (altitude) in metres above sea level.  This is not a current Darwin Core term.&quot;
  )
  private Double elevation;

  @Schema(
    description = &quot;The value of the potential error associated with the elevation.  This is not a current Darwin Core term.&quot;
  )
  private Double elevationAccuracy;

  @Schema(
    description = &quot;Depth in metres below sea level.  This is not a current Darwin Core term.&quot;
  )
  private Double depth;

  @Schema(
    description = &quot;The value of the potential error associated with the depth.  This is not a current Darwin Core term.&quot;
  )
  private Double depthAccuracy;

  // OpenAPI documentation from enumeration
  private Continent continent;

  @JsonSerialize(using = Country.IsoSerializer.class)
  @JsonDeserialize(using = Country.IsoDeserializer.class)
  private Country country;

  @Schema(
    description = &quot;The name of the next-smaller administrative region than country (state, province, canton, &quot; +
      &quot;department, region, etc.) in which the occurrence occurs.\n\n&quot; +
      &quot;This value is unaltered by GBIF's processing; see also the GADM fields.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/stateProvince&quot;
    )
  )
  private String stateProvince;

<span class="fc" id="L555">  @Schema(</span>
    description = &quot;The administrative divisions according to the [GADM database](https://gadm.org/).\n\n&quot; +
      &quot;This value is applied by GBIF's processing without consideration of the `stateProvince`, `county` or `locality` fields.&quot;
  )
  private Gadm gadm = new Gadm();

  @Schema(
    description = &quot;The name of the water body in which the Location occurs.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/waterBody&quot;
    )
  )
  private String waterBody;

  @Schema(
    description = &quot;The distance in metres of the occurrence from a centroid known to be applied to occurrences &quot; +
      &quot;during georeferencing.  This can potentially indicate low-precision georeferencing, check the values of &quot; +
      &quot;`coordinateUncertaintyInMeters` and `georeferenceRemarks`.&quot;
  )
  private Double distanceFromCentroidInMeters;

  @Schema(
    description = &quot;A list (concatenated and separated) of geographic names less specific than the information captured in the dwc:locality term.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/higherGeography&quot;
    )
  )
  private String higherGeography;

  @Schema(
    description = &quot;A list (concatenated and separated) of names of people, groups, or organizations who determined the georeference (spatial representation) for the dcterms:Location.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/georeferencedBy&quot;
    )
  )
  private String georeferencedBy;

  // recording event

  @Schema(
    description = &quot;The four-digit year in which the event occurred, according to the Common Era calendar.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/year&quot;
    )
  )
  private Integer year;

  @Schema(
    description = &quot;The integer month in which the Event occurred.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/month&quot;
    )
  )
  private Integer month;

  @Schema(
    description = &quot;The integer day of the month on which the Event occurred.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/day&quot;
    )
  )
  private Integer day;

  @Schema(
    description = &quot;The date-time during which an Event occurred. For occurrences, this is the date-time when the &quot; +
      &quot;event was recorded. Not suitable for a time in a geological context.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/eventDate&quot;
    )
  )
  private IsoDateInterval eventDate;

  @Schema(
    description = &quot;The latest integer day of the year on which the Event occurred (1 for 1 January, 365 for &quot; +
      &quot;31 December, except in a leap year, in which case it is 366).&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/endDayOfYear&quot;
    )
  )
  private Integer startDayOfYear;

  @Schema(
    description = &quot;The earliest integer day of the year on which the Event occurred (1 for 1 January, 365 for &quot; +
      &quot;31 December, except in a leap year, in which case it is 366).&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/startDayOfYear&quot;
    )
  )
  private Integer endDayOfYear;

  @Schema(
    description = &quot;A list (concatenated and separated) of nomenclatural types (type status, typified scientific name, &quot; +
      &quot;publication) applied to the occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/typeStatus&quot;
    )
  )
  private String typeStatus;

  // extracted from type status, but we should propose a new dwc term for this!
  // for example: &quot;Paratype of Taeniopteryx metequi Ricker &amp; Ross&quot; is status=Paratype, typifiedName=Taeniopteryx metequi Ricker &amp; Ross
  @Schema(
    description = &quot;The scientific name that is based on the type specimen.\n\n&quot; +
      &quot;This is not yet a Darwin Core term, see the [proposal to add it](https://github.com/tdwg/dwc/issues/28).&quot;
  )
  private String typifiedName; // missing from DwC

<span class="fc" id="L672">  @Schema(</span>
    description = &quot;A specific interpretation issue found during processing and interpretation of the record.\n\n&quot; +
      &quot;See the https://links.gbif.org/occurrence-issues[list of occurrence issues] and the &quot; +
      &quot;https://gbif.github.io/gbif-api/apidocs/org/gbif/api/vocabulary/OccurrenceIssue.html[OccurrenceIssue enumeration] &quot; +
      &quot;for possible values and definitions.&quot;
  )
<span class="fc" id="L678">  private Set&lt;OccurrenceIssue&gt; issues = EnumSet.noneOf(OccurrenceIssue.class);</span>

  // record level

  @Schema(
    description = &quot;The most recent date-time on which the occurrence was changed, according to the publisher.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Dublin Core definition&quot;,
      url = &quot;https://purl.org/dc/terms/modified&quot;
    )
  )
  private Date modified;  // interpreted dc:modified, i.e. date changed in source

  @Schema(
    description = &quot;The time this occurrence was last processed by GBIF's interpretation system “Pipelines”.\n\n&quot; +
      &quot;This is the time the record was last changed in GBIF, **not** the time the record was last changed by the &quot; +
      &quot;publisher.  Data is also reprocessed when we changed the taxonomic backbone, geographic data sources or &quot; +
      &quot;other interpretation procedures.\n\n&quot; +
      &quot;An earlier interpretation system distinguished between “parsing” and “interpretation”, but in the current &quot; +
      &quot;system there is only one process — the two dates will always be the same.&quot;
  )
  private Date lastInterpreted;

  @Schema(
    description = &quot;A related resource that is referenced, cited, or otherwise pointed to by the described resource.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Dublin Core definition&quot;,
      url = &quot;https://purl.org/dc/terms/references&quot;
    )
  )
  private URI references;

  @Schema(
    description = &quot;A legal document giving official permission to do something with the occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Dublin Core definition&quot;,
      url = &quot;https://purl.org/dc/terms/license&quot;
    )
  )
  private License license;

  @Schema(
    description = &quot;A number or enumeration value for the quantity of organisms.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/organismQuantity&quot;
    )
  )
  private Double organismQuantity;

  @Schema(
    description = &quot;The type of quantification system used for the quantity of organisms.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/organismQuantityType&quot;
    )
  )
  private String organismQuantityType;

  @Schema(
    description = &quot;The unit of measurement of the size (time duration, length, area, or volume) of a sample in a sampling event.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/sampleSizeUnit&quot;
    )
  )
  private String sampleSizeUnit;

  @Schema(
    description = &quot;A numeric value for a measurement of the size (time duration, length, area, or volume) of a sample in a sampling event.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/sampleSizeValue&quot;
    )
  )
  private Double sampleSizeValue;

  @Schema(
    description = &quot;The relative measurement of the quantity of the organism (i.e. without absolute units).&quot;
  )
  private Double relativeOrganismQuantity;

  @Schema(
    description = &quot;Flag occurrence when associatedSequences/extension exists&quot;
  )
  private boolean isSequenced;

  @Schema(
      description = &quot;A list (concatenated and separated) of identifiers (publication, global unique identifier, URI) &quot;
        + &quot;of genetic sequence information associated with the material entity.&quot;,
      externalDocs =
          @ExternalDocumentation(
              description = &quot;Darwin Core definition&quot;,
              url = &quot;https://rs.tdwg.org/dwc/terms/associatedSequences&quot;))
  private String associatedSequences;

  // interpreted extension data

<span class="fc" id="L776">  @Schema(</span>
    description = &quot;Alternative identifiers for the occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;GBIF Alternative Identifiers extension&quot;,
      url = &quot;https://rs.gbif.org/terms/1.0/Identifier&quot;
    )
  )
  private List&lt;Identifier&gt; identifiers = new ArrayList&lt;&gt;();

<span class="fc" id="L785">  @Schema(</span>
    description = &quot;Multimedia related to te occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;GBIF Multimedia extension&quot;,
      url = &quot;https://rs.gbif.org/terms/1.0/Multimedia&quot;
    )
  )
  private List&lt;MediaObject&gt; media = new ArrayList&lt;&gt;();

<span class="fc" id="L794">  @Schema(</span>
    description = &quot;Measurements or facts about the the occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/MeasurementOrFact&quot;
    )
  )
  private List&lt;MeasurementOrFact&gt; facts = new ArrayList&lt;&gt;();

<span class="fc" id="L803">  @Schema(</span>
    description = &quot;Relationships between occurrences.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/ResourceRelationship&quot;
    )
  )
  private List&lt;OccurrenceRelation&gt; relations = new ArrayList&lt;&gt;();

<span class="fc" id="L812">  @Schema(</span>
    description = &quot;A list of the globally unique identifiers for the person, people, groups, or organizations &quot; +
      &quot;responsible for recording the original Occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/recordedByID&quot;
    )
  )
  @JsonProperty(&quot;recordedByIDs&quot;)
  private List&lt;AgentIdentifier&gt; recordedByIds = new ArrayList&lt;&gt;();

<span class="fc" id="L823">  @Schema(</span>
    description = &quot;A list of the globally unique identifiers for the person, people, groups, or organizations &quot; +
      &quot;responsible for assigning the Taxon to the occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/identifiedByID&quot;
    )
  )
  @JsonProperty(&quot;identifiedByIDs&quot;)
  private List&lt;AgentIdentifier&gt; identifiedByIds = new ArrayList&lt;&gt;();

  @Schema(
    description = &quot;**Experimental.**  The UUID of the institution holding the specimen occurrence, from GRSciColl.&quot;
  )
  @Experimental
  private String institutionKey;

  @Schema(
    description = &quot;**Experimental.**  The UUID of the collection containing the specimen occurrence, from GRSciColl.&quot;
  )
  @Experimental
  private String collectionKey;

  @Schema(
    description = &quot;**Experimental.**  Whether the occurrence belongs to a machine-calculated cluster of probable &quot; +
      &quot;duplicate occurrences.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;GBIF Data Blog&quot;,
      url = &quot;https://data-blog.gbif.org/post/clustering-occurrences/&quot;
    )
  )
  @Experimental
  private boolean isInCluster;

  @Schema(
    description = &quot;An identifier for the set of data. May be a global unique identifier or an identifier specific to &quot; +
      &quot;a collection or institution.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/datasetID&quot;
    )
  )
  private String datasetID;

  @Schema(
    description = &quot;The name identifying the data set from which the record was derived.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private String datasetName;

  @Schema(
    description = &quot;A list (concatenated and separated) of previous or alternate fully qualified catalogue numbers &quot; +
      &quot;or other human-used identifiers for the same occurrence, whether in the current or any other data set or collection.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/otherCatalogNumbers&quot;
    )
  )
  private String otherCatalogNumbers;

  @Schema(
    description = &quot;The full name of the earliest possible geochronologic eon or lowest chrono-stratigraphic eonothem or the informal name (\&quot;Precambrian\&quot;) attributable to the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/earliestEonOrLowestEonothem&quot;
    )
  )
  private String earliestEonOrLowestEonothem;

  @Schema(
    description = &quot;The full name of the latest possible geochronologic eon or highest chrono-stratigraphic eonothem or the informal name (\&quot;Precambrian\&quot;) attributable to the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/latestEonOrHighestEonothem&quot;
    )
  )
  private String latestEonOrHighestEonothem;

  @Schema(
    description = &quot;The full name of the earliest possible geochronologic era or lowest chronostratigraphic erathem attributable to the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/earliestEraOrLowestErathem&quot;
    )
  )
  private String earliestEraOrLowestErathem;

  @Schema(
    description = &quot;The full name of the latest possible geochronologic era or highest chronostratigraphic erathem attributable to the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/latestEraOrHighestErathem&quot;
    )
  )
  private String latestEraOrHighestErathem;

  @Schema(
    description = &quot;The full name of the earliest possible geochronologic period or lowest chronostratigraphic system attributable to the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/earliestPeriodOrLowestSystem&quot;
    )
  )
  private String earliestPeriodOrLowestSystem;

  @Schema(
    description = &quot;The full name of the latest possible geochronologic period or highest chronostratigraphic system attributable to the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/latestPeriodOrHighestSystem&quot;
    )
  )
  private String latestPeriodOrHighestSystem;

  @Schema(
    description = &quot;The full name of the earliest possible geochronologic epoch or lowest chronostratigraphic series attributable to the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/earliestEpochOrLowestSeries&quot;
    )
  )
  private String earliestEpochOrLowestSeries;

  @Schema(
    description = &quot;The full name of the latest possible geochronologic epoch or highest chronostratigraphic series attributable to the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/latestEpochOrHighestSeries&quot;
    )
  )
  private String latestEpochOrHighestSeries;

  @Schema(
    description = &quot;The full name of the earliest possible geochronologic age or lowest chronostratigraphic stage attributable to the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/earliestAgeOrLowestStage&quot;
    )
  )
  private String earliestAgeOrLowestStage;

  @Schema(
    description = &quot;The full name of the latest possible geochronologic age or highest chronostratigraphic stage attributable to the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/latestAgeOrHighestStage&quot;
    )
  )
  private String latestAgeOrHighestStage;

  @Schema(
    description = &quot;The full name of the lowest possible geological biostratigraphic zone of the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/lowestBiostratigraphicZone&quot;
    )
  )
  private String lowestBiostratigraphicZone;

  @Schema(
    description = &quot;The full name of the highest possible geological biostratigraphic zone of the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/highestBiostratigraphicZone&quot;
    )
  )
  private String highestBiostratigraphicZone;

  @Schema(
    description = &quot;The full name of the lithostratigraphic group from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/group&quot;
    )
  )
  private String group;

  @Schema(
    description = &quot;The full name of the lithostratigraphic formation from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/formation&quot;
    )
  )
  private String formation;

  @Schema(
    description = &quot;The full name of the lithostratigraphic member from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/member&quot;
    )
  )
  private String member;

  @Schema(
    description = &quot;The full name of the lithostratigraphic bed from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/bed&quot;
    )
  )
  private String bed;


  @Schema(
    description = &quot;A person, group, or organization responsible for recording the original occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/recordedBy&quot;
    )
  )
  private String recordedBy;

  @Schema(
    description = &quot;A list (concatenated and separated) of names of people, groups, or organizations who assigned the &quot; +
      &quot;Taxon to the occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/identifiedBy&quot;
    )
  )
  private String identifiedBy;

  @Schema(
    description = &quot;A preparation or preservation method for a specimen.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/preparations&quot;
    )
  )
  private String preparations;

  @Schema(
    description = &quot;The methods or protocols used during an Event, denoted by an IRI.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/samplingProtocol&quot;
    )
  )
  private String samplingProtocol;

<span class="fc" id="L1068">  @Schema(</span>
    description = &quot;**Experimental.**  The DNA sequence ID of an occurrence.&quot;
  )
  @Experimental
  private List&lt;String&gt; dnaSequenceID = new ArrayList&lt;&gt;();

<span class="fc" id="L1074">  public Occurrence() {</span>

<span class="fc" id="L1076">  }</span>

  /**
   * Create occurrence instance from existing verbatim one, copying over all data.
   */
<span class="fc" id="L1081">  public Occurrence(@Nullable VerbatimOccurrence verbatim) {</span>
<span class="fc bfc" id="L1082" title="All 2 branches covered.">    if (verbatim != null) {</span>
<span class="fc" id="L1083">      setKey(verbatim.getKey());</span>
<span class="fc" id="L1084">      setDatasetKey(verbatim.getDatasetKey());</span>
<span class="fc" id="L1085">      setPublishingOrgKey(verbatim.getPublishingOrgKey());</span>
<span class="fc" id="L1086">      setPublishingCountry(verbatim.getPublishingCountry());</span>
<span class="fc" id="L1087">      setProtocol(verbatim.getProtocol());</span>
<span class="fc" id="L1088">      setCrawlId(verbatim.getCrawlId());</span>
<span class="fc bfc" id="L1089" title="All 2 branches covered.">      if (verbatim.getLastCrawled() != null) {</span>
<span class="fc" id="L1090">        setLastCrawled(new Date(verbatim.getLastCrawled().getTime()));</span>
      }
<span class="pc bpc" id="L1092" title="1 of 2 branches missed.">      if (verbatim.getVerbatimFields() != null) {</span>
<span class="fc" id="L1093">        getVerbatimFields().putAll(verbatim.getVerbatimFields());</span>
      }
<span class="pc bpc" id="L1095" title="1 of 2 branches missed.">      if (verbatim.getLastParsed() != null) {</span>
<span class="nc" id="L1096">        setLastParsed(verbatim.getLastParsed());</span>
      }
<span class="fc" id="L1098">      setExtensions(verbatim.getExtensions());</span>
    }
<span class="fc" id="L1100">  }</span>

  @Nullable
  public BasisOfRecord getBasisOfRecord() {
<span class="fc" id="L1104">    return basisOfRecord;</span>
  }

  public void setBasisOfRecord(BasisOfRecord basisOfRecord) {
<span class="fc" id="L1108">    this.basisOfRecord = basisOfRecord;</span>
<span class="fc" id="L1109">  }</span>

  @Nullable
  public Integer getIndividualCount() {
<span class="fc" id="L1113">    return individualCount;</span>
  }

  public void setIndividualCount(Integer individualCount) {
<span class="nc" id="L1117">    this.individualCount = individualCount;</span>
<span class="nc" id="L1118">  }</span>

  @Nullable
  public OccurrenceStatus getOccurrenceStatus() {
<span class="fc" id="L1122">    return occurrenceStatus;</span>
  }

  public void setOccurrenceStatus(OccurrenceStatus occurrenceStatus) {
<span class="nc" id="L1126">    this.occurrenceStatus = occurrenceStatus;</span>
<span class="nc" id="L1127">  }</span>

  @Nullable
  public String getSex() {
<span class="fc" id="L1131">    return sex;</span>
  }

  public void setSex(String sex) {
<span class="nc" id="L1135">    this.sex = sex;</span>
<span class="nc" id="L1136">  }</span>

  @Nullable
  public String getLifeStage() {
<span class="fc" id="L1140">    return lifeStage;</span>
  }

  public void setLifeStage(String lifeStage) {
<span class="nc" id="L1144">    this.lifeStage = lifeStage;</span>
<span class="nc" id="L1145">  }</span>

  @Nullable
  public String getEstablishmentMeans() {
<span class="fc" id="L1149">    return establishmentMeans;</span>
  }

  public void setEstablishmentMeans(String establishmentMeans) {
<span class="nc" id="L1153">    this.establishmentMeans = establishmentMeans;</span>
<span class="nc" id="L1154">  }</span>

  /**
   * The best matching, accepted GBIF backbone name usage representing this occurrence.
   * In case the verbatim scientific name and its classification can only be matched to a higher rank this will
   * represent the lowest matching rank. In the worst case this could just be for example Animalia.
   */
  @Nullable
  public Integer getTaxonKey() {
<span class="fc" id="L1163">    return taxonKey;</span>
  }

  public void setTaxonKey(Integer taxonKey) {
<span class="fc" id="L1167">    this.taxonKey = taxonKey;</span>
<span class="fc" id="L1168">  }</span>

  @Nullable
  @Override
  public Integer getKingdomKey() {
<span class="fc" id="L1173">    return kingdomKey;</span>
  }

  @Override
  public void setKingdomKey(@Nullable Integer kingdomKey) {
<span class="fc" id="L1178">    this.kingdomKey = kingdomKey;</span>
<span class="fc" id="L1179">  }</span>

  @Nullable
  @Override
  public Integer getPhylumKey() {
<span class="fc" id="L1184">    return phylumKey;</span>
  }

  @Override
  public void setPhylumKey(@Nullable Integer phylumKey) {
<span class="nc" id="L1189">    this.phylumKey = phylumKey;</span>
<span class="nc" id="L1190">  }</span>

  @Nullable
  @Override
  public Integer getClassKey() {
<span class="fc" id="L1195">    return classKey;</span>
  }

  @Override
  public void setClassKey(@Nullable Integer classKey) {
<span class="fc" id="L1200">    this.classKey = classKey;</span>
<span class="fc" id="L1201">  }</span>

  @Nullable
  @Override
  public Integer getOrderKey() {
<span class="fc" id="L1206">    return orderKey;</span>
  }

  @Override
  public void setOrderKey(@Nullable Integer orderKey) {
<span class="nc" id="L1211">    this.orderKey = orderKey;</span>
<span class="nc" id="L1212">  }</span>

  @Nullable
  @Override
  public Integer getFamilyKey() {
<span class="fc" id="L1217">    return familyKey;</span>
  }

  @Override
  public void setFamilyKey(@Nullable Integer familyKey) {
<span class="fc" id="L1222">    this.familyKey = familyKey;</span>
<span class="fc" id="L1223">  }</span>

  @Nullable
  @Override
  public Integer getGenusKey() {
<span class="fc" id="L1228">    return genusKey;</span>
  }

  @Override
  public void setGenusKey(@Nullable Integer genusKey) {
<span class="nc" id="L1233">    this.genusKey = genusKey;</span>
<span class="nc" id="L1234">  }</span>

  @Nullable
  @Override
  public Integer getSubgenusKey() {
<span class="fc" id="L1239">    return subgenusKey;</span>
  }

  @Override
  public void setSubgenusKey(@Nullable Integer subgenusKey) {
<span class="nc" id="L1244">    this.subgenusKey = subgenusKey;</span>
<span class="nc" id="L1245">  }</span>

  @Nullable
  @Override
  public Integer getHigherRankKey(Rank rank) {
<span class="fc" id="L1250">    return ClassificationUtils.getHigherRankKey(this, rank);</span>
  }

  /**
   * An ordered map with entries for all higher Linnean ranks excluding the taxonKey itself.
   * The map starts with the highest rank, e.g. the kingdom and maps the name usage key to its canonical name.
   *
   * @return map of higher ranks
   */
  @NotNull
  @JsonIgnore
  public Map&lt;Integer, String&gt; getHigherClassificationMap() {
<span class="fc bfc" id="L1262" title="All 2 branches covered.">    return taxonKey == null ? ClassificationUtils.getHigherClassificationMap(this)</span>
<span class="fc" id="L1263">      : ClassificationUtils.getHigherClassificationMap(this, taxonKey, null, null);</span>
  }

  /**
   * The accepted species for this occurrence. In case the taxonKey is of a higher rank than species (e.g. genus)
   * speciesKey is null. In case taxonKey represents an infraspecific taxon the speciesKey points to the species
   * the infraspecies is classified as. In case of taxonKey being a species the speciesKey is the same.
   */
  @Nullable
  @Override
  public Integer getSpeciesKey() {
<span class="fc" id="L1274">    return speciesKey;</span>
  }

  @Override
  public void setSpeciesKey(@Nullable Integer speciesKey) {
<span class="nc" id="L1279">    this.speciesKey = speciesKey;</span>
<span class="nc" id="L1280">  }</span>

  /**
   * The accepted taxon key from the GBIF backbone.
   */
  @Nullable
  public Integer getAcceptedTaxonKey() {
<span class="fc" id="L1287">    return acceptedTaxonKey;</span>
  }

  public void setAcceptedTaxonKey(Integer acceptedTaxonKey) {
<span class="nc" id="L1291">    this.acceptedTaxonKey = acceptedTaxonKey;</span>
<span class="nc" id="L1292">  }</span>

  @Nullable
  public String getSpecificEpithet() {
<span class="fc" id="L1296">    return specificEpithet;</span>
  }

  public void setSpecificEpithet(String specificEpithet) {
<span class="nc" id="L1300">    this.specificEpithet = specificEpithet;</span>
<span class="nc" id="L1301">  }</span>

  @Nullable
  public String getInfraspecificEpithet() {
<span class="fc" id="L1305">    return infraspecificEpithet;</span>
  }

  public void setInfraspecificEpithet(String infraspecificEpithet) {
<span class="nc" id="L1309">    this.infraspecificEpithet = infraspecificEpithet;</span>
<span class="nc" id="L1310">  }</span>

  @Nullable
  public Rank getTaxonRank() {
<span class="fc" id="L1314">    return taxonRank;</span>
  }

  public void setTaxonRank(Rank taxonRank) {
<span class="nc" id="L1318">    this.taxonRank = taxonRank;</span>
<span class="nc" id="L1319">  }</span>

  /**
   * The status of the use of the scientificName as a label for a taxon.
   * The GBIF recommended controlled value vocabulary can be found at &lt;a href=&quot;http://rs.gbif.org/vocabulary/gbif/taxonomic_status.xml&quot;&gt;http://rs.gbif.org/vocabulary/gbif/taxonomic_status.xm&lt;/a&gt;.
   */
  @Nullable
  public TaxonomicStatus getTaxonomicStatus() {
<span class="fc" id="L1327">    return taxonomicStatus;</span>
  }

  public void setTaxonomicStatus(TaxonomicStatus taxonomicStatus) {
<span class="nc" id="L1331">    this.taxonomicStatus = taxonomicStatus;</span>
<span class="nc" id="L1332">  }</span>

  /**
   * The IUCN Red List Category.
   */
  @Nullable
  public String getIucnRedListCategory() {
<span class="fc" id="L1339">    return iucnRedListCategory;</span>
  }

  public void setIucnRedListCategory(String iucnRedListCategory) {
<span class="nc" id="L1343">    this.iucnRedListCategory = iucnRedListCategory;</span>
<span class="nc" id="L1344">  }</span>

  /**
   * The scientific name for taxonKey from the GBIF backbone.
   */
  @Nullable
  public String getScientificName() {
<span class="fc" id="L1351">    return scientificName;</span>
  }

  public void setScientificName(@Nullable String scientificName) {
<span class="fc" id="L1355">    this.scientificName = scientificName;</span>
<span class="fc" id="L1356">  }</span>

  /**
   * The scientific name authorship for taxonKey from the GBIF backbone.
   */
  @Nullable
  public String getScientificNameAuthorship() {
<span class="fc" id="L1363">    return scientificNameAuthorship;</span>
  }

  public void setScientificNameAuthorship(String scientificNameAuthorship) {
<span class="nc" id="L1367">    this.scientificNameAuthorship = scientificNameAuthorship;</span>
<span class="nc" id="L1368">  }</span>

  /**
   * The verbatim scientific name as provided by the source.
   */
  @Nullable
  @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)
  public String getVerbatimScientificName() {
<span class="nc" id="L1376">    return getVerbatimField(DwcTerm.scientificName);</span>
  }

  public void setVerbatimScientificName(String scientificName) {
    //DO NOTHING
<span class="fc" id="L1381">  }</span>

  /**
   * The accepted scientific name for the acceptedTaxonKey from the GBIF backbone.
   */
  @Nullable
  public String getAcceptedScientificName() {
<span class="fc" id="L1388">    return acceptedScientificName;</span>
  }

  public void setAcceptedScientificName(String acceptedScientificName) {
<span class="nc" id="L1392">    this.acceptedScientificName = acceptedScientificName;</span>
<span class="nc" id="L1393">  }</span>

  @Nullable
  @Override
  public String getKingdom() {
<span class="fc" id="L1398">    return kingdom;</span>
  }

  @Override
  public void setKingdom(@Nullable String kingdom) {
<span class="fc" id="L1403">    this.kingdom = kingdom;</span>
<span class="fc" id="L1404">  }</span>

  @Nullable
  @Override
  public String getPhylum() {
<span class="fc" id="L1409">    return phylum;</span>
  }

  @Override
  public void setPhylum(@Nullable String phylum) {
<span class="nc" id="L1414">    this.phylum = phylum;</span>
<span class="nc" id="L1415">  }</span>

  @Nullable
  @Override
  public String getClazz() {
<span class="fc" id="L1420">    return clazz;</span>
  }

  @Override
  public void setClazz(@Nullable String clazz) {
<span class="fc" id="L1425">    this.clazz = clazz;</span>
<span class="fc" id="L1426">  }</span>

  @Nullable
  @Override
  public String getOrder() {
<span class="fc" id="L1431">    return order;</span>
  }

  @Override
  public void setOrder(@Nullable String order) {
<span class="nc" id="L1436">    this.order = order;</span>
<span class="nc" id="L1437">  }</span>

  @Nullable
  @Override
  public String getFamily() {
<span class="fc" id="L1442">    return family;</span>
  }

  @Override
  public void setFamily(@Nullable String family) {
<span class="fc" id="L1447">    this.family = family;</span>
<span class="fc" id="L1448">  }</span>

  @Nullable
  @Override
  public String getGenus() {
<span class="fc" id="L1453">    return genus;</span>
  }

  @Override
  public void setGenus(@Nullable String genus) {
<span class="nc" id="L1458">    this.genus = genus;</span>
<span class="nc" id="L1459">  }</span>

  @Nullable
  public String getGenericName() {
<span class="fc" id="L1463">    return genericName;</span>
  }

  public void setGenericName(String genericName) {
<span class="nc" id="L1467">    this.genericName = genericName;</span>
<span class="nc" id="L1468">  }</span>

  @Nullable
  @Override
  public String getSubgenus() {
<span class="fc" id="L1473">    return subgenus;</span>
  }

  @Override
  public void setSubgenus(@Nullable String subgenus) {
<span class="nc" id="L1478">    this.subgenus = subgenus;</span>
<span class="nc" id="L1479">  }</span>

  @Nullable
  @Override
  public String getHigherRank(Rank rank) {
<span class="fc" id="L1484">    return ClassificationUtils.getHigherRank(this, rank);</span>
  }

  /**
   * The corresponding scientific name of the speciesKey from the GBIF backbone.
   */
  @Nullable
  @Override
  public String getSpecies() {
<span class="fc" id="L1493">    return species;</span>
  }

  @Override
  public void setSpecies(@Nullable String species) {
<span class="nc" id="L1498">    this.species = species;</span>
<span class="nc" id="L1499">  }</span>

  @Nullable
  public Date getDateIdentified() {
<span class="pc bpc" id="L1503" title="1 of 2 branches missed.">    return dateIdentified == null ? null : new Date(dateIdentified.getTime());</span>
  }

  public void setDateIdentified(@Nullable Date dateIdentified) {
<span class="pc bpc" id="L1507" title="1 of 2 branches missed.">    this.dateIdentified = dateIdentified == null ? null : new Date(dateIdentified.getTime());</span>
<span class="fc" id="L1508">  }</span>

  /**
   * The decimalLongitude in decimal degrees always for the WGS84 datum. If a different geodetic datum was given the verbatim
   * coordinates are transformed into WGS84 values.
   */
  @Nullable
  public Double getDecimalLongitude() {
<span class="fc" id="L1516">    return decimalLongitude;</span>
  }

  public void setDecimalLongitude(@Nullable Double decimalLongitude) {
<span class="fc" id="L1520">    this.decimalLongitude = decimalLongitude;</span>
<span class="fc" id="L1521">  }</span>

  @Nullable
  public Double getDecimalLatitude() {
<span class="fc" id="L1525">    return decimalLatitude;</span>
  }

  public void setDecimalLatitude(@Nullable Double decimalLatitude) {
<span class="fc" id="L1529">    this.decimalLatitude = decimalLatitude;</span>
<span class="fc" id="L1530">  }</span>

  /**
   * The uncertainty radius for lat/lon in meters.
   */
  @Nullable
  public Double getCoordinateUncertaintyInMeters() {
<span class="fc" id="L1537">    return coordinateUncertaintyInMeters;</span>
  }

  public void setCoordinateUncertaintyInMeters(@Nullable Double coordinateUncertaintyInMeters) {
<span class="fc" id="L1541">    this.coordinateUncertaintyInMeters = coordinateUncertaintyInMeters;</span>
<span class="fc" id="L1542">  }</span>

  @Nullable
  public Double getCoordinatePrecision() {
<span class="fc" id="L1546">    return coordinatePrecision;</span>
  }

  public void setCoordinatePrecision(Double coordinatePrecision) {
<span class="nc" id="L1550">    this.coordinatePrecision = coordinatePrecision;</span>
<span class="nc" id="L1551">  }</span>

  /**
   * @deprecated to be removed in the public v2 of the API (see POR-3061)
   * The uncertainty for latitude in decimal degrees.
   * Note that the longitude degrees have a different accuracy in degrees which changes with latitude and is largest at the poles.
   */
  @Nullable
  @Deprecated
  public Double getCoordinateAccuracy() {
<span class="fc" id="L1561">    return coordinateAccuracy;</span>
  }

  public void setCoordinateAccuracy(@Nullable Double coordinateAccuracy) {
<span class="fc" id="L1565">    this.coordinateAccuracy = coordinateAccuracy;</span>
<span class="fc" id="L1566">  }</span>

  /**
   * The geodetic datum for the interpreted decimal coordinates.
   * This is always WGS84 if a coordinate exists as we reproject other datums into WGS84.
   */
  @Schema(
    description = &quot;The geodetic datum for the interpreted decimal coordinates.\n\n&quot; +
      &quot;Coordinates are reprojected to WGS84 if they exist, so this field is either null or `WGS84`.&quot;
  )
  @Nullable
  public String getGeodeticDatum() {
<span class="fc bfc" id="L1578" title="All 2 branches covered.">    if (decimalLatitude != null) {</span>
<span class="fc" id="L1579">      return GEO_DATUM;</span>
    }
<span class="fc" id="L1581">    return null;</span>
  }

  /**
   * This private method is needed for jackson deserialization only.
   */
  private void setGeodeticDatum(String datum) {
    // ignore, we have a static WGS84 value
<span class="fc" id="L1589">  }</span>

  /**
   * Elevation in meters usually above sea level (altitude).
   * &lt;/br&gt;
   * The elevation is calculated using the equation: (minimumElevationInMeters + maximumElevationInMeters) / 2.
   */
  @Nullable
  public Double getElevation() {
<span class="fc" id="L1598">    return elevation;</span>
  }

  public void setElevation(@Nullable Double elevation) {
<span class="nc" id="L1602">    this.elevation = elevation;</span>
<span class="nc" id="L1603">  }</span>

  /**
   * Elevation accuracy is the uncertainty for the elevation in meters.
   * &lt;/br&gt;
   * The elevation accuracy is calculated using the equation: (maximumElevationInMeters - minimumElevationInMeters) / 2
   */
  @Nullable
  public Double getElevationAccuracy() {
<span class="fc" id="L1612">    return elevationAccuracy;</span>
  }

  public void setElevationAccuracy(@Nullable Double elevationAccuracy) {
<span class="nc" id="L1616">    this.elevationAccuracy = elevationAccuracy;</span>
<span class="nc" id="L1617">  }</span>

  /**
   * Depth in meters below the surface. Complimentary to elevation, the depth can be 10 meters below the surface of a
   * lake in 1100m (=elevation).
   * &lt;/br&gt;
   * The depth is calculated using the equation: (minimumDepthInMeters + maximumDepthInMeters) / 2.
   */
  @Nullable
  public Double getDepth() {
<span class="fc" id="L1627">    return depth;</span>
  }

  public void setDepth(@Nullable Double depth) {
<span class="nc" id="L1631">    this.depth = depth;</span>
<span class="nc" id="L1632">  }</span>

  /**
   * Depth accuracy is the uncertainty for the depth in meters.
   * &lt;/br&gt;
   * The depth accuracy is calculated using the equation: (maximumDepthInMeters - minimumDepthInMeters) / 2
   */
  @Nullable
  public Double getDepthAccuracy() {
<span class="fc" id="L1641">    return depthAccuracy;</span>
  }

  public void setDepthAccuracy(@Nullable Double depthAccuracy) {
<span class="nc" id="L1645">    this.depthAccuracy = depthAccuracy;</span>
<span class="nc" id="L1646">  }</span>

  @Nullable
  public Continent getContinent() {
<span class="fc" id="L1650">    return continent;</span>
  }

  public void setContinent(@Nullable Continent continent) {
<span class="fc" id="L1654">    this.continent = continent;</span>
<span class="fc" id="L1655">  }</span>

  @Schema(
    description = &quot;The 2-letter country code (as per ISO-3166-1) of the country, territory or area in which the &quot; +
      &quot;occurrence was recorded.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/countryCode&quot;
    )
  )
  @Nullable
  @JsonProperty(&quot;countryCode&quot;)
  public Country getCountry() {
<span class="fc" id="L1668">    return country;</span>
  }

  public void setCountry(@Nullable Country country) {
<span class="fc" id="L1672">    this.country = country;</span>
<span class="fc" id="L1673">  }</span>

  @Nullable
  @JsonProperty(&quot;gbifRegion&quot;)
  public GbifRegion getGbifRegion() {
<span class="fc" id="L1678">    return Optional.ofNullable(country).map(Country::getGbifRegion).orElse(null);</span>
  }

  private void setGbifRegion(String gbifRegion) {
    // ignore, setter only to avoid JSON being written into the fields map
<span class="fc" id="L1683">  }</span>

  /**
   * Renders the country title as a JSON property country in addition to the ISO 3166 2 letter countryCode being
   * serialized by the regular country Java property.
   * Made private to use it only for JSON serialization and not within Java code.
   */
  @Schema(
    description = &quot;The title (as per ISO-3166-1) of the country, territory or area in which the &quot; +
      &quot;occurrence was recorded.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/country&quot;
    )
  )
  @Nullable
  @JsonProperty(&quot;country&quot;)
  private String getCountryTitle() {
<span class="fc bfc" id="L1701" title="All 2 branches covered.">    return country == null ? null : country.getTitle();</span>
  }

  private void setCountryTitle(String country) {
    // ignore, setter only to avoid JSON being written into the fields map
<span class="fc" id="L1706">  }</span>

  @Nullable
  public String getStateProvince() {
<span class="fc" id="L1710">    return stateProvince;</span>
  }

  public void setStateProvince(@Nullable String stateProvince) {
<span class="nc" id="L1714">    this.stateProvince = stateProvince;</span>
<span class="nc" id="L1715">  }</span>

  @Nullable
  public String getWaterBody() {
<span class="fc" id="L1719">    return waterBody;</span>
  }

  public void setWaterBody(@Nullable String waterBody) {
<span class="nc" id="L1723">    this.waterBody = waterBody;</span>
<span class="nc" id="L1724">  }</span>

  /**
   * The distance in metres from a known centroid, e.g. a country centroid.
   */
  public Double getDistanceFromCentroidInMeters() {
<span class="fc" id="L1730">    return distanceFromCentroidInMeters;</span>
  }

  public void setDistanceFromCentroidInMeters(Double distanceFromCentroidInMeters) {
<span class="nc" id="L1734">    this.distanceFromCentroidInMeters = distanceFromCentroidInMeters;</span>
<span class="nc" id="L1735">  }</span>

  @Nullable
  public String getHigherGeography() {
<span class="fc" id="L1739">    return higherGeography;</span>
  }

  public void setHigherGeography(String higherGeography) {
<span class="nc" id="L1743">    this.higherGeography = higherGeography;</span>
<span class="nc" id="L1744">  }</span>

  @Nullable
  public String getGeoreferencedBy() {
<span class="fc" id="L1748">    return georeferencedBy;</span>
  }

  public void setGeoreferencedBy(String georeferencedBy) {
<span class="nc" id="L1752">    this.georeferencedBy = georeferencedBy;</span>
<span class="nc" id="L1753">  }</span>

  /**
   * The full year of the event date.
   *
   * @return the year of the event date
   */
  @Min(1500)
  @Max(2030)
  @Nullable
  public Integer getYear() {
<span class="fc" id="L1764">    return year;</span>
  }

  public void setYear(@Nullable Integer year) {
<span class="fc" id="L1768">    this.year = year;</span>
<span class="fc" id="L1769">  }</span>

  /**
   * The month of the year of the event date starting with zero for january following {@link Date}.
   *
   * @return the month of the event date
   */
  @Min(1)
  @Max(12)
  @Nullable
  public Integer getMonth() {
<span class="fc" id="L1780">    return month;</span>
  }

  public void setMonth(@Nullable Integer month) {
<span class="fc" id="L1784">    this.month = month;</span>
<span class="fc" id="L1785">  }</span>

  /**
   * The day of the month of the event date.
   *
   * @return the day of the event date
   */
  @Min(1)
  @Max(31)
  @Nullable
  public Integer getDay() {
<span class="fc" id="L1796">    return day;</span>
  }

  public void setDay(@Nullable Integer day) {
<span class="fc" id="L1800">    this.day = day;</span>
<span class="fc" id="L1801">  }</span>

  /**
   * The date the occurrence was recorded or collected.
   */
  @Nullable
  public IsoDateInterval getEventDate() {
<span class="pc bpc" id="L1808" title="1 of 2 branches missed.">    return eventDate == null ? null : new IsoDateInterval(eventDate.getFrom(), eventDate.getTo());</span>
  }

  public void setEventDate(@Nullable IsoDateInterval eventDate) {
<span class="pc bpc" id="L1812" title="1 of 2 branches missed.">    this.eventDate = eventDate == null ? null : new IsoDateInterval(eventDate.getFrom(), eventDate.getTo());</span>
<span class="fc" id="L1813">  }</span>

  /**
   * The earliest integer day of the year of the event.
   *
   * @return the earliest integer day of the event date
   */
  @Min(1)
  @Max(366)
  @Nullable
  public Integer getStartDayOfYear() {
<span class="fc" id="L1824">    return startDayOfYear;</span>
  }

  public void setStartDayOfYear(@Nullable Integer startDayOfYear) {
<span class="nc" id="L1828">    this.startDayOfYear = startDayOfYear;</span>
<span class="nc" id="L1829">  }</span>

  /**
   * The latest integer day of the year of the event.
   *
   * @return the latest integer day of the event date
   */
  @Min(1)
  @Max(366)
  @Nullable
  public Integer getEndDayOfYear() {
<span class="fc" id="L1840">    return endDayOfYear;</span>
  }

  public void setEndDayOfYear(@Nullable Integer endDayOfYear) {
<span class="nc" id="L1844">    this.endDayOfYear = endDayOfYear;</span>
<span class="nc" id="L1845">  }</span>

  @Nullable
  public String getTypeStatus() {
<span class="fc" id="L1849">    return typeStatus;</span>
  }

  public void setTypeStatus(@Nullable String typeStatus) {
<span class="nc" id="L1853">    this.typeStatus = typeStatus;</span>
<span class="nc" id="L1854">  }</span>

  /**
   * The scientific name the type status of this specimen applies to.
   */
  @Nullable
  public String getTypifiedName() {
<span class="fc" id="L1861">    return typifiedName;</span>
  }

  public void setTypifiedName(@Nullable String typifiedName) {
<span class="nc" id="L1865">    this.typifiedName = typifiedName;</span>
<span class="nc" id="L1866">  }</span>

  /**
   * A set of issues found for this occurrence.
   */
  @NotNull
  public Set&lt;OccurrenceIssue&gt; getIssues() {
<span class="fc" id="L1873">    return issues;</span>
  }

  public void setIssues(Set&lt;OccurrenceIssue&gt; issues) {
<span class="fc" id="L1877">    Objects.requireNonNull(issues, &quot;Issues cannot be null&quot;);</span>
<span class="fc" id="L1878">    EnumSet&lt;OccurrenceIssue&gt; set = EnumSet.noneOf(OccurrenceIssue.class);</span>
<span class="fc" id="L1879">    set.addAll(issues);</span>
<span class="fc" id="L1880">    this.issues = set;</span>
<span class="fc" id="L1881">  }</span>

  public void addIssue(OccurrenceIssue issue) {
<span class="fc" id="L1884">    Objects.requireNonNull(issue, &quot;Issue needs to be specified&quot;);</span>
<span class="fc" id="L1885">    issues.add(issue);</span>
<span class="fc" id="L1886">  }</span>

  /**
   * The interpreted dc:modified from the verbatim source data.
   * Ideally indicating when a record was last modified in the source.
   */
  @Nullable
  public Date getModified() {
<span class="pc bpc" id="L1894" title="1 of 2 branches missed.">    return modified == null ? null : new Date(modified.getTime());</span>
  }

  public void setModified(@Nullable Date modified) {
<span class="pc bpc" id="L1898" title="1 of 2 branches missed.">    this.modified = modified == null ? null : new Date(modified.getTime());</span>
<span class="fc" id="L1899">  }</span>

  /**
   * The date this occurrence last went through the interpretation phase of the GBIF indexing.
   */
  @Nullable
  public Date getLastInterpreted() {
<span class="fc bfc" id="L1906" title="All 2 branches covered.">    return lastInterpreted == null ? null : new Date(lastInterpreted.getTime());</span>
  }

  public void setLastInterpreted(@Nullable Date lastInterpreted) {
<span class="fc bfc" id="L1910" title="All 2 branches covered.">    this.lastInterpreted = lastInterpreted == null ? null : new Date(lastInterpreted.getTime());</span>
<span class="fc" id="L1911">  }</span>

  /**
   * An external link to more details, the records &quot;homepage&quot;.
   */
  @Nullable
  public URI getReferences() {
<span class="fc" id="L1918">    return references;</span>
  }

  public void setReferences(URI references) {
<span class="nc" id="L1922">    this.references = references;</span>
<span class="nc" id="L1923">  }</span>

  /**
   * A number or enumeration value for the quantity of organisms.
   */
  @Nullable
  public Double getOrganismQuantity() {
<span class="fc" id="L1930">    return organismQuantity;</span>
  }

  public void setOrganismQuantity(@Nullable Double organismQuantity) {
<span class="nc" id="L1934">    this.organismQuantity = organismQuantity;</span>
<span class="nc" id="L1935">  }</span>

  /**
   * The type of quantification system used for the quantity of organisms.
   */
  @Nullable
  public String getOrganismQuantityType() {
<span class="fc" id="L1942">    return organismQuantityType;</span>
  }

  public void setOrganismQuantityType(@Nullable String organismQuantityType) {
<span class="nc" id="L1946">    this.organismQuantityType = organismQuantityType;</span>
<span class="nc" id="L1947">  }</span>

  /**
   * The unit of measurement of the size (time duration, length, area, or volume) of a sample in a sampling event.
   */
  @Nullable
  public String getSampleSizeUnit() {
<span class="fc" id="L1954">    return sampleSizeUnit;</span>
  }

  public void setSampleSizeUnit(@Nullable String sampleSizeUnit) {
<span class="nc" id="L1958">    this.sampleSizeUnit = sampleSizeUnit;</span>
<span class="nc" id="L1959">  }</span>

  /**
   * A numeric value for a measurement of the size (time duration, length, area, or volume) of a sample in a sampling event.
   */
  @Nullable
  public Double getSampleSizeValue() {
<span class="fc" id="L1966">    return sampleSizeValue;</span>
  }

  public void setSampleSizeValue(@Nullable Double sampleSizeValue) {
<span class="nc" id="L1970">    this.sampleSizeValue = sampleSizeValue;</span>
<span class="nc" id="L1971">  }</span>

  /**
   * Calculated filed organismQuantity / sampleSizeValue, if the type is identical
   */
  @Nullable
  public Double getRelativeOrganismQuantity() {
<span class="fc" id="L1978">    return relativeOrganismQuantity;</span>
  }

  public void setRelativeOrganismQuantity(@Nullable Double relativeOrganismQuantity) {
<span class="nc" id="L1982">    this.relativeOrganismQuantity = relativeOrganismQuantity;</span>
<span class="nc" id="L1983">  }</span>

  /**
   * Flag occurrence when associatedSequences/extension exists
   */
  public boolean getIsSequenced() {
<span class="fc" id="L1989">    return isSequenced;</span>
  }

  public void setIsSequenced(boolean isSequenced) {
<span class="fc" id="L1993">    this.isSequenced = isSequenced;</span>
<span class="fc" id="L1994">  }</span>

  /**
   * A list (concatenated and separated) of identifiers (publication, global unique identifier, URI) of genetic
   * sequence information associated with the material entity.
   */
  @Nullable
  public String getAssociatedSequences() {
<span class="fc" id="L2002">    return associatedSequences;</span>
  }

  public void setAssociatedSequences(String associatedSequences) {
<span class="nc" id="L2006">    this.associatedSequences = associatedSequences;</span>
<span class="nc" id="L2007">  }</span>

  /**
   * Applied license to the occurrence record or dataset to which this record belongs to.
   */
  @NotNull
  public License getLicense() {
<span class="fc" id="L2014">    return license;</span>
  }

  public void setLicense(License license) {
<span class="nc" id="L2018">    this.license = license;</span>
<span class="nc" id="L2019">  }</span>

  @NotNull
  public List&lt;Identifier&gt; getIdentifiers() {
<span class="fc" id="L2023">    return identifiers;</span>
  }

  public void setIdentifiers(List&lt;Identifier&gt; identifiers) {
<span class="fc" id="L2027">    this.identifiers = identifiers;</span>
<span class="fc" id="L2028">  }</span>

  @NotNull
  public List&lt;MediaObject&gt; getMedia() {
<span class="fc" id="L2032">    return media;</span>
  }

  public void setMedia(List&lt;MediaObject&gt; media) {
<span class="fc" id="L2036">    this.media = media;</span>
<span class="fc" id="L2037">  }</span>

  @NotNull
  public List&lt;MeasurementOrFact&gt; getFacts() {
<span class="fc" id="L2041">    return facts;</span>
  }

  public void setFacts(List&lt;MeasurementOrFact&gt; facts) {
<span class="fc" id="L2045">    this.facts = facts;</span>
<span class="fc" id="L2046">  }</span>

  @NotNull
  public List&lt;OccurrenceRelation&gt; getRelations() {
<span class="fc" id="L2050">    return relations;</span>
  }

  public void setRelations(List&lt;OccurrenceRelation&gt; relations) {
<span class="fc" id="L2054">    this.relations = relations;</span>
<span class="fc" id="L2055">  }</span>

  @NotNull
  public List&lt;AgentIdentifier&gt; getRecordedByIds() {
<span class="fc" id="L2059">    return recordedByIds;</span>
  }

  public void setRecordedByIds(List&lt;AgentIdentifier&gt; recordedByIds) {
<span class="fc" id="L2063">    this.recordedByIds = recordedByIds;</span>
<span class="fc" id="L2064">  }</span>

  @NotNull
  public List&lt;AgentIdentifier&gt; getIdentifiedByIds() {
<span class="fc" id="L2068">    return identifiedByIds;</span>
  }

  public void setIdentifiedByIds(List&lt;AgentIdentifier&gt; identifiedByIds) {
<span class="fc" id="L2072">    this.identifiedByIds = identifiedByIds;</span>
<span class="fc" id="L2073">  }</span>

  @NotNull
  public Gadm getGadm() {
<span class="fc" id="L2077">    return gadm;</span>
  }

  public void setGadm(Gadm gadm) {
<span class="fc" id="L2081">    this.gadm = gadm;</span>
<span class="fc" id="L2082">  }</span>

  @Nullable
  @Experimental
  public String getInstitutionKey() {
<span class="fc" id="L2087">    return institutionKey;</span>
  }

  public void setInstitutionKey(String institutionKey) {
<span class="nc" id="L2091">    this.institutionKey = institutionKey;</span>
<span class="nc" id="L2092">  }</span>

  @Nullable
  @Experimental
  public String getCollectionKey() {
<span class="fc" id="L2097">    return collectionKey;</span>
  }

  public void setCollectionKey(String collectionKey) {
<span class="nc" id="L2101">    this.collectionKey = collectionKey;</span>
<span class="nc" id="L2102">  }</span>

  public boolean getIsInCluster() {
<span class="fc" id="L2105">    return isInCluster;</span>
  }

  public void setIsInCluster(boolean isInCluster) {
<span class="fc" id="L2109">    this.isInCluster = isInCluster;</span>
<span class="fc" id="L2110">  }</span>

  @Nullable
  public String getDegreeOfEstablishment() {
<span class="fc" id="L2114">    return degreeOfEstablishment;</span>
  }

  public void setDegreeOfEstablishment(String degreeOfEstablishment) {
<span class="nc" id="L2118">    this.degreeOfEstablishment = degreeOfEstablishment;</span>
<span class="nc" id="L2119">  }</span>

  @Nullable
  public String getPathway() {
<span class="fc" id="L2123">    return pathway;</span>
  }

  public void setPathway(String pathway) {
<span class="nc" id="L2127">    this.pathway = pathway;</span>
<span class="nc" id="L2128">  }</span>

  public String getDatasetID() {
<span class="fc" id="L2131">    return datasetID;</span>
  }

  public void setDatasetID(String datasetID) {
<span class="nc" id="L2135">    this.datasetID = datasetID;</span>
<span class="nc" id="L2136">  }</span>

  public String getDatasetName() {
<span class="fc" id="L2139">    return datasetName;</span>
  }

  public void setDatasetName(String datasetName) {
<span class="nc" id="L2143">    this.datasetName = datasetName;</span>
<span class="nc" id="L2144">  }</span>

  public String getOtherCatalogNumbers() {
<span class="fc" id="L2147">    return otherCatalogNumbers;</span>
  }

  public void setOtherCatalogNumbers(String otherCatalogNumbers) {
<span class="nc" id="L2151">    this.otherCatalogNumbers = otherCatalogNumbers;</span>
<span class="nc" id="L2152">  }</span>

  @Nullable
  public String getEarliestEonOrLowestEonothem() {
<span class="fc" id="L2156">    return earliestEonOrLowestEonothem;</span>
  }

  public void setEarliestEonOrLowestEonothem(String earliestEonOrLowestEonothem) {
<span class="nc" id="L2160">    this.earliestEonOrLowestEonothem = earliestEonOrLowestEonothem;</span>
<span class="nc" id="L2161">  }</span>

  @Nullable
  public String getLatestEonOrHighestEonothem() {
<span class="fc" id="L2165">    return latestEonOrHighestEonothem;</span>
  }

  public void setLatestEonOrHighestEonothem(String latestEonOrHighestEonothem) {
<span class="nc" id="L2169">    this.latestEonOrHighestEonothem = latestEonOrHighestEonothem;</span>
<span class="nc" id="L2170">  }</span>

  @Nullable
  public String getEarliestEraOrLowestErathem() {
<span class="fc" id="L2174">    return earliestEraOrLowestErathem;</span>
  }

  public void setEarliestEraOrLowestErathem(String earliestEraOrLowestErathem) {
<span class="nc" id="L2178">    this.earliestEraOrLowestErathem = earliestEraOrLowestErathem;</span>
<span class="nc" id="L2179">  }</span>

  @Nullable
  public String getLatestEraOrHighestErathem() {
<span class="fc" id="L2183">    return latestEraOrHighestErathem;</span>
  }

  public void setLatestEraOrHighestErathem(String latestEraOrHighestErathem) {
<span class="nc" id="L2187">    this.latestEraOrHighestErathem = latestEraOrHighestErathem;</span>
<span class="nc" id="L2188">  }</span>

  @Nullable
  public String getEarliestPeriodOrLowestSystem() {
<span class="fc" id="L2192">    return earliestPeriodOrLowestSystem;</span>
  }

  public void setEarliestPeriodOrLowestSystem(String earliestPeriodOrLowestSystem) {
<span class="nc" id="L2196">    this.earliestPeriodOrLowestSystem = earliestPeriodOrLowestSystem;</span>
<span class="nc" id="L2197">  }</span>

  @Nullable
  public String getLatestPeriodOrHighestSystem() {
<span class="fc" id="L2201">    return latestPeriodOrHighestSystem;</span>
  }

  public void setLatestPeriodOrHighestSystem(String latestPeriodOrHighestSystem) {
<span class="nc" id="L2205">    this.latestPeriodOrHighestSystem = latestPeriodOrHighestSystem;</span>
<span class="nc" id="L2206">  }</span>

  @Nullable
  public String getEarliestEpochOrLowestSeries() {
<span class="fc" id="L2210">    return earliestEpochOrLowestSeries;</span>
  }

  public void setEarliestEpochOrLowestSeries(String earliestEpochOrLowestSeries) {
<span class="nc" id="L2214">    this.earliestEpochOrLowestSeries = earliestEpochOrLowestSeries;</span>
<span class="nc" id="L2215">  }</span>

  @Nullable
  public String getLatestEpochOrHighestSeries() {
<span class="fc" id="L2219">    return latestEpochOrHighestSeries;</span>
  }

  public void setLatestEpochOrHighestSeries(String latestEpochOrHighestSeries) {
<span class="nc" id="L2223">    this.latestEpochOrHighestSeries = latestEpochOrHighestSeries;</span>
<span class="nc" id="L2224">  }</span>

  @Nullable
  public String getEarliestAgeOrLowestStage() {
<span class="fc" id="L2228">    return earliestAgeOrLowestStage;</span>
  }

  public void setEarliestAgeOrLowestStage(String earliestAgeOrLowestStage) {
<span class="nc" id="L2232">    this.earliestAgeOrLowestStage = earliestAgeOrLowestStage;</span>
<span class="nc" id="L2233">  }</span>

  @Nullable
  public String getLatestAgeOrHighestStage() {
<span class="fc" id="L2237">    return latestAgeOrHighestStage;</span>
  }

  public void setLatestAgeOrHighestStage(String latestAgeOrHighestStage) {
<span class="nc" id="L2241">    this.latestAgeOrHighestStage = latestAgeOrHighestStage;</span>
<span class="nc" id="L2242">  }</span>

  @Nullable
  public String getLowestBiostratigraphicZone() {
<span class="fc" id="L2246">    return lowestBiostratigraphicZone;</span>
  }

  public void setLowestBiostratigraphicZone(String lowestBiostratigraphicZone) {
<span class="nc" id="L2250">    this.lowestBiostratigraphicZone = lowestBiostratigraphicZone;</span>
<span class="nc" id="L2251">  }</span>

  @Nullable
  public String getHighestBiostratigraphicZone() {
<span class="fc" id="L2255">    return highestBiostratigraphicZone;</span>
  }

  public void setHighestBiostratigraphicZone(String highestBiostratigraphicZone) {
<span class="nc" id="L2259">    this.highestBiostratigraphicZone = highestBiostratigraphicZone;</span>
<span class="nc" id="L2260">  }</span>

  @Nullable
  public String getGroup() {
<span class="fc" id="L2264">    return group;</span>
  }

  public void setGroup(String group) {
<span class="nc" id="L2268">    this.group = group;</span>
<span class="nc" id="L2269">  }</span>

  @Nullable
  public String getFormation() {
<span class="fc" id="L2273">    return formation;</span>
  }

  public void setFormation(String formation) {
<span class="nc" id="L2277">    this.formation = formation;</span>
<span class="nc" id="L2278">  }</span>

  @Nullable
  public String getMember() {
<span class="fc" id="L2282">    return member;</span>
  }

  public void setMember(String member) {
<span class="nc" id="L2286">    this.member = member;</span>
<span class="nc" id="L2287">  }</span>

  @Nullable
  public String getBed() {
<span class="fc" id="L2291">    return bed;</span>
  }

  public void setBed(String bed) {
<span class="nc" id="L2295">    this.bed = bed;</span>
<span class="nc" id="L2296">  }</span>

  public String getRecordedBy() {
<span class="fc" id="L2299">    return recordedBy;</span>
  }

  public void setRecordedBy(String recordedBy) {
<span class="nc" id="L2303">    this.recordedBy = recordedBy;</span>
<span class="nc" id="L2304">  }</span>

  public String getIdentifiedBy() {
<span class="fc" id="L2307">    return identifiedBy;</span>
  }

  public void setIdentifiedBy(String identifiedBy) {
<span class="nc" id="L2311">    this.identifiedBy = identifiedBy;</span>
<span class="nc" id="L2312">  }</span>

  public String getPreparations() {
<span class="fc" id="L2315">    return preparations;</span>
  }

  public void setPreparations(String preparations) {
<span class="nc" id="L2319">    this.preparations = preparations;</span>
<span class="nc" id="L2320">  }</span>

  public String getSamplingProtocol() {
<span class="fc" id="L2323">    return samplingProtocol;</span>
  }

  public void setSamplingProtocol(String samplingProtocol) {
<span class="nc" id="L2327">    this.samplingProtocol = samplingProtocol;</span>
<span class="nc" id="L2328">  }</span>

  public List&lt;String&gt; getDnaSequenceID() {
<span class="fc" id="L2331">    return dnaSequenceID;</span>
  }

  public void setDnaSequenceID(List&lt;String&gt; dnaSequenceID) {
<span class="fc" id="L2335">    this.dnaSequenceID = dnaSequenceID;</span>
<span class="fc" id="L2336">  }</span>

  public Map&lt;String, Classification&gt; getClassifications() {
<span class="fc" id="L2339">    return classifications;</span>
  }

  public void setClassifications(Map&lt;String, Classification&gt; classifications) {
<span class="nc" id="L2343">    this.classifications = classifications;</span>
<span class="nc" id="L2344">  }</span>

  /**
   * Convenience method checking if any spatial validation rule has not passed.
   * Primarily used to indicate that the record should not be displayed on a map.
   */
  @JsonIgnore
  public boolean hasSpatialIssue() {
<span class="fc bfc" id="L2352" title="All 2 branches covered.">    for (OccurrenceIssue rule : OccurrenceIssue.GEOSPATIAL_RULES) {</span>
<span class="fc bfc" id="L2353" title="All 2 branches covered.">      if (issues.contains(rule)) {</span>
<span class="fc" id="L2354">        return true;</span>
      }
<span class="fc" id="L2356">    }</span>
<span class="fc" id="L2357">    return false;</span>
  }

  /**
   * This private method is only for serialization via jackson and not exposed anywhere else!
   * It maps the verbatimField terms into properties with their simple name or qualified names for UnknownTerms.
   */
  @JsonAnyGetter
  private Map&lt;String, String&gt; jsonVerbatimFields() {
<span class="fc" id="L2366">    Map&lt;String, String&gt; extendedProps = new HashMap&lt;&gt;();</span>
<span class="fc bfc" id="L2367" title="All 2 branches covered.">    for (Map.Entry&lt;Term, String&gt; prop : getVerbatimFields().entrySet()) {</span>
<span class="fc" id="L2368">      Term t = prop.getKey();</span>
<span class="fc bfc" id="L2369" title="All 4 branches covered.">      if (t instanceof UnknownTerm || PROPERTIES.contains(t.simpleName())) {</span>
<span class="fc" id="L2370">        extendedProps.put(t.qualifiedName(), prop.getValue());</span>
      } else {
        // render all terms in controlled enumerations as simple names only - unless we have a property of that name already!
<span class="fc" id="L2373">        extendedProps.put(t.simpleName(), prop.getValue());</span>
      }
<span class="fc" id="L2375">    }</span>
<span class="fc" id="L2376">    return extendedProps;</span>
  }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>
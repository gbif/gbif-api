<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Occurrence.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">GBIF Common :: API</a> &gt; <a href="index.source.html" class="el_package">org.gbif.api.model.occurrence</a> &gt; <span class="el_source">Occurrence.java</span></div><h1>Occurrence.java</h1><pre class="source lang-java linenums">/*
 * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
package org.gbif.api.model.occurrence;

import org.gbif.api.annotation.Experimental;
import org.gbif.api.model.common.Identifier;
import org.gbif.api.model.common.LinneanClassification;
import org.gbif.api.model.common.LinneanClassificationKeys;
import org.gbif.api.model.common.MediaObject;
import org.gbif.api.util.ClassificationUtils;
import org.gbif.api.util.IsoDateInterval;
import org.gbif.api.vocabulary.BasisOfRecord;
import org.gbif.api.vocabulary.Continent;
import org.gbif.api.vocabulary.Country;
import org.gbif.api.vocabulary.GbifRegion;
import org.gbif.api.vocabulary.License;
import org.gbif.api.vocabulary.OccurrenceIssue;
import org.gbif.api.vocabulary.OccurrenceStatus;
import org.gbif.api.vocabulary.Rank;
import org.gbif.api.vocabulary.Sex;
import org.gbif.api.vocabulary.TaxonomicStatus;
import org.gbif.dwc.terms.DwcTerm;
import org.gbif.dwc.terms.GbifTerm;
import org.gbif.dwc.terms.Term;
import org.gbif.dwc.terms.UnknownTerm;

import java.lang.reflect.Field;
import java.lang.reflect.Modifier;
import java.net.URI;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.Date;
import java.util.EnumSet;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.Objects;
import java.util.Optional;
import java.util.Set;
import java.util.stream.Collectors;
import java.util.stream.Stream;

import javax.annotation.Nullable;
import javax.validation.constraints.Max;
import javax.validation.constraints.Min;
import javax.validation.constraints.NotNull;

import com.fasterxml.jackson.annotation.JsonAnyGetter;
import com.fasterxml.jackson.annotation.JsonIgnore;
import com.fasterxml.jackson.annotation.JsonProperty;
import com.fasterxml.jackson.databind.annotation.JsonDeserialize;
import com.fasterxml.jackson.databind.annotation.JsonSerialize;

import io.swagger.v3.oas.annotations.ExternalDocumentation;
import io.swagger.v3.oas.annotations.media.Schema;
import lombok.EqualsAndHashCode;
import lombok.ToString;

/**
 * Represents an Occurrence as interpreted by GBIF, adding typed properties on top of the verbatim ones.
 */
<span class="pc bpc" id="L74" title="504 of 838 branches missed.">@EqualsAndHashCode</span>
<span class="nc" id="L75">@ToString</span>
@SuppressWarnings(&quot;unused&quot;)
public class Occurrence extends VerbatimOccurrence implements LinneanClassification, LinneanClassificationKeys {

  public static final String GEO_DATUM = &quot;WGS84&quot;;
  // keep names of ALL properties of this class in a set for jackson serialization, see #properties()
<span class="fc" id="L81">  private static final Set&lt;String&gt; PROPERTIES = Collections.unmodifiableSet(</span>
<span class="fc" id="L82">    Stream.concat(</span>
      // we need to these JSON properties manually because we have a fixed getter but no field for it
<span class="fc" id="L84">      Stream.of(DwcTerm.geodeticDatum.simpleName(), &quot;class&quot;, DwcTerm.countryCode.simpleName(), GbifTerm.gbifRegion.simpleName(), GbifTerm.publishedByGbifRegion.simpleName()),</span>
<span class="fc" id="L85">      Stream.concat(Arrays.stream(Occurrence.class.getDeclaredFields()),</span>
<span class="fc" id="L86">        Arrays.stream(VerbatimOccurrence.class.getDeclaredFields()))</span>
<span class="fc bfc" id="L87" title="All 2 branches covered.">        .filter(field -&gt; !Modifier.isStatic(field.getModifiers()))</span>
<span class="fc" id="L88">        .map(Field::getName)).collect(Collectors.toSet()));</span>

  // occurrence fields

  // OpenAPI documentation comes from the enumeration.
  private BasisOfRecord basisOfRecord;

  @Schema(
    description = &quot;The number of individuals present at the time of the Occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/individualCount&quot;
    )
  )
  private Integer individualCount;

  // OpenAPI documentation comes from the enumeration.
  private OccurrenceStatus occurrenceStatus;

  // OpenAPI documentation comes from the enumeration.
  private String sex;

  @Schema(
    description = &quot;The age class or life stage of the Organism(s) at the time the Occurrence was recorded.\n\n&quot; +
      &quot;Values are aligned to the [GBIF LifeStage vocabulary](https://registry.gbif.org/vocabulary/LifeStage/concepts)&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/lifeStage&quot;
    )
  )
  private String lifeStage;

  @Schema(
    description = &quot;Statement about whether an organism or organisms have been introduced to a given place and time &quot; +
      &quot;through the direct or indirect activity of modern humans.\n\n&quot; +
      &quot;Values are aligned to the [GBIF EstablishmentMeans vocabulary](https://registry.gbif.org/vocabulary/EstablishmentMeans/concepts),&quot; +
      &quot;which is derived from the [Darwin Core EstablishmentMeans vocabulary](https://dwc.tdwg.org/em/).&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/establishmentMeans&quot;
    )
  )
  private String establishmentMeans;

  @Schema(
    description = &quot;The degree to which an Organism survives, reproduces, and expands its range at the given &quot; +
      &quot;place and time.\n\n&quot; +
      &quot;Values are aligned to the [GBIF DegreeOfEstablishment vocabulary](https://registry.gbif.org/vocabulary/DegreeOfEstablishment/concepts),&quot; +
      &quot;which is derived from the [Darwin Core DegreeOfEstablishment vocabulary](https://dwc.tdwg.org/doe/).&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/degreeOfEstablishment&quot;
    )
  )
  private String degreeOfEstablishment;

  @Schema(
    description = &quot;The process by which an Organism came to be in a given place at a given time.\n\n&quot; +
    &quot;Values are aligned to the [GBIF Pathway vocabulary](https://registry.gbif.org/vocabulary/Pathway/concepts),&quot; +
    &quot;which is derived from the [Darwin Core Pathway vocabulary](https://dwc.tdwg.org/pw/).&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/pathway&quot;
    )
  )
  private String pathway;

  // taxonomy as NUB keys → LinneanClassificationKeys

  @Schema(
    description = &quot;A taxon key from the [GBIF backbone](https://doi.org/10.15468/39omei) for the most specific &quot; +
      &quot;(lowest rank) taxon for this occurrence.  This could be a synonym, see `acceptedTaxonKey`.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private Integer taxonKey;

  @Schema(
    description = &quot;A taxon key from the [GBIF backbone](https://doi.org/10.15468/39omei) for the kingdom of this&quot; +
      &quot;occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private Integer kingdomKey;

  @Schema(
    description = &quot;A taxon key from the [GBIF backbone](https://doi.org/10.15468/39omei) for the phylum of this&quot; +
      &quot;occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private Integer phylumKey;

  @Schema(
    description = &quot;A taxon key from the [GBIF backbone](https://doi.org/10.15468/39omei) for the class of this&quot; +
      &quot;occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private Integer classKey;

  @Schema(
    description = &quot;A taxon key from the [GBIF backbone](https://doi.org/10.15468/39omei) for the order of this&quot; +
      &quot;occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private Integer orderKey;

  @Schema(
    description = &quot;A taxon key from the [GBIF backbone](https://doi.org/10.15468/39omei) for the family of this&quot; +
      &quot;occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private Integer familyKey;

  @Schema(
    description = &quot;A taxon key from the [GBIF backbone](https://doi.org/10.15468/39omei) for the genus of this&quot; +
      &quot;occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private Integer genusKey;

  @Schema(
    description = &quot;A taxon key from the [GBIF backbone](https://doi.org/10.15468/39omei) for the subgenus of this&quot; +
      &quot;occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private Integer subgenusKey;

  @Schema(
    description = &quot;A taxon key from the [GBIF backbone](https://doi.org/10.15468/39omei) for the species of this&quot; +
      &quot;occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private Integer speciesKey;

  @Schema(
    description = &quot;A taxon key from the [GBIF backbone](https://doi.org/10.15468/39omei) for the accepted taxon of &quot; +
      &quot;this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private Integer acceptedTaxonKey;

  // taxonomy as name strings → LinneanClassification

  @Schema(
    description = &quot;The scientific name (including authorship) for the taxon from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.  This could be a synonym, see &quot; +
      &quot;also `acceptedScientificName`.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private String scientificName;  // the interpreted name matching taxonKey

  @Schema(
    description = &quot;The accepted scientific name (including authorship) for the taxon from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private String acceptedScientificName;

  @Schema(
    description = &quot;The kingdom name (excluding authorship) for the kingdom from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private String kingdom;

  @Schema(
    description = &quot;The phylum name (excluding authorship) for the phylum from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private String phylum;

  @Schema(
    description = &quot;The class name (excluding authorship) for the class from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  @JsonProperty(&quot;class&quot;)
  private String clazz;

  @Schema(
    description = &quot;The order name (excluding authorship) for the order from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private String order;

  @Schema(
    description = &quot;The family name (excluding authorship) for the family from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private String family;

  @Schema(
    description = &quot;The genus name (excluding authorship) for the genus from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private String genus;

  @Schema(
    description = &quot;The subgenus name (excluding authorship) for the subgenus from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private String subgenus;

  @Schema(
    description = &quot;The species name (excluding authorship) for the species from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private String species;

  // atomised scientific name

  @Schema(
    description = &quot;The genus name part of the species name from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/genericName&quot;
    )
  )
  private String genericName;

  @Schema(
    description = &quot;The specific name part of the species name from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/specificEpithet&quot;
    )
  )
  private String specificEpithet;

  @Schema(
    description = &quot;The infraspecific name part of the species name from the &quot; +
      &quot;[GBIF backbone](https://doi.org/10.15468/39omei) matched to this occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/infraspecificEpithet&quot;
    )
  )
  private String infraspecificEpithet;

  @Schema(
    description = &quot;The taxonomic rank of the most specific name in the scientificName.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/taxonRank&quot;
    )
  )
  private Rank taxonRank;

  @Schema(
    description = &quot;The status of the use of the scientificName as a label for a taxon.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/taxonomicStatus&quot;
    )
  )
  private TaxonomicStatus taxonomicStatus;

  @Schema(
    description = &quot;The IUCN Red List Category of the taxon of this occurrence.\n\n&quot; +
      &quot;See the [GBIF vocabulary](https://rs.gbif.org/vocabulary/iucn/threat_status/) for the values and their &quot; +
      &quot;definitions, and the [IUCN Red List of Threatened Species dataset in GBIF](https://doi.org/10.15468/0qnb58) &quot; +
      &quot;for the version of the Red List GBIF's interpretation procedures are using.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;GBIF vocabulary&quot;,
      url = &quot;https://rs.gbif.org/vocabulary/iucn/threat_status/&quot;
    )
  )
  private String iucnRedListCategory;

  // identification

  @Schema(
    description = &quot;The date on which the subject was determined as representing the Taxon.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/dateIdentified&quot;
    )
  )
  private Date dateIdentified;

  // location

  @Schema(
    description = &quot;The geographic latitude (in decimal degrees, using the WGS84 datum) of the geographic centre &quot; +
      &quot;of the location of the occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/decimalLatitude&quot;
    )
  )
  private Double decimalLatitude;

  @Schema(
    description = &quot;The geographic longitude (in decimal degrees, using the WGS84 datum) of the geographic centre &quot; +
      &quot;of the location of the occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/decimalLongitude&quot;
    )
  )
  private Double decimalLongitude;

  //coordinatePrecision and coordinateUncertaintyInMeters should be BigDecimal see POR-2795

  @Schema(
    description = &quot;A decimal representation of the precision of the coordinates given in the decimalLatitude and decimalLongitude.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/coordinatePrecision&quot;
    )
  )
  private Double coordinatePrecision;

  @Schema(
    description = &quot;The horizontal distance (in metres) from the given decimalLatitude and decimalLongitude &quot; +
      &quot;describing the smallest circle containing the whole of the Location.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/coordinateUncertaintyInMeters&quot;
    )
  )
  private Double coordinateUncertaintyInMeters;

  @Schema(
    description = &quot;**Deprecated.**  This value is always null.  It is an obsolete Darwin Core term.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  @Deprecated //see getter
  private Double coordinateAccuracy;

  @Schema(
    description = &quot;Elevation (altitude) in metres above sea level.  This is not a current Darwin Core term.&quot;
  )
  private Double elevation;

  @Schema(
    description = &quot;The value of the potential error associated with the elevation.  This is not a current Darwin Core term.&quot;
  )
  private Double elevationAccuracy;

  @Schema(
    description = &quot;Depth in metres below sea level.  This is not a current Darwin Core term.&quot;
  )
  private Double depth;

  @Schema(
    description = &quot;The value of the potential error associated with the depth.  This is not a current Darwin Core term.&quot;
  )
  private Double depthAccuracy;

  // OpenAPI documentation from enumeration
  private Continent continent;

  @JsonSerialize(using = Country.IsoSerializer.class)
  @JsonDeserialize(using = Country.IsoDeserializer.class)
  private Country country;

  @Schema(
    description = &quot;The name of the next-smaller administrative region than country (state, province, canton, &quot; +
      &quot;department, region, etc.) in which the occurrence occurs.\n\n&quot; +
      &quot;This value is unaltered by GBIF's processing; see also the GADM fields.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/stateProvince&quot;
    )
  )
  private String stateProvince;

<span class="fc" id="L525">  @Schema(</span>
    description = &quot;The administrative divisions according to the [GADM database](https://gadm.org/).\n\n&quot; +
      &quot;This value is applied by GBIF's processing without consideration of the `stateProvince`, `county` or `locality` fields.&quot;
  )
  private Gadm gadm = new Gadm();

  @Schema(
    description = &quot;The name of the water body in which the Location occurs.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/waterBody&quot;
    )
  )
  private String waterBody;

  @Schema(
    description = &quot;The distance in metres of the occurrence from a centroid known to be applied to occurrences &quot; +
      &quot;during georeferencing.  This can potentially indicate low-precision georeferencing, check the values of &quot; +
      &quot;`coordinateUncertaintyInMeters` and `georeferenceRemarks`.&quot;
  )
  private Double distanceFromCentroidInMeters;

  @Schema(
    description = &quot;A list (concatenated and separated) of geographic names less specific than the information captured in the dwc:locality term.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/higherGeography&quot;
    )
  )
  private String higherGeography;

  @Schema(
    description = &quot;A list (concatenated and separated) of names of people, groups, or organizations who determined the georeference (spatial representation) for the dcterms:Location.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/georeferencedBy&quot;
    )
  )
  private String georeferencedBy;

  // recording event

  @Schema(
    description = &quot;The four-digit year in which the event occurred, according to the Common Era calendar.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/year&quot;
    )
  )
  private Integer year;

  @Schema(
    description = &quot;The integer month in which the Event occurred.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/month&quot;
    )
  )
  private Integer month;

  @Schema(
    description = &quot;The integer day of the month on which the Event occurred.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/day&quot;
    )
  )
  private Integer day;

  @Schema(
    description = &quot;The date-time during which an Event occurred. For occurrences, this is the date-time when the &quot; +
      &quot;event was recorded. Not suitable for a time in a geological context.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/eventDate&quot;
    )
  )
  private IsoDateInterval eventDate;

  @Schema(
    description = &quot;The latest integer day of the year on which the Event occurred (1 for 1 January, 365 for &quot; +
      &quot;31 December, except in a leap year, in which case it is 366).&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/endDayOfYear&quot;
    )
  )
  private Integer startDayOfYear;

  @Schema(
    description = &quot;The earliest integer day of the year on which the Event occurred (1 for 1 January, 365 for &quot; +
      &quot;31 December, except in a leap year, in which case it is 366).&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/startDayOfYear&quot;
    )
  )
  private Integer endDayOfYear;

  @Schema(
    description = &quot;A list (concatenated and separated) of nomenclatural types (type status, typified scientific name, &quot; +
      &quot;publication) applied to the occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/typeStatus&quot;
    )
  )
  private String typeStatus;

  // extracted from type status, but we should propose a new dwc term for this!
  // for example: &quot;Paratype of Taeniopteryx metequi Ricker &amp; Ross&quot; is status=Paratype, typifiedName=Taeniopteryx metequi Ricker &amp; Ross
  @Schema(
    description = &quot;The scientific name that is based on the type specimen.\n\n&quot; +
      &quot;This is not yet a Darwin Core term, see the [proposal to add it](https://github.com/tdwg/dwc/issues/28).&quot;
  )
  private String typifiedName; // missing from DwC

<span class="fc" id="L642">  @Schema(</span>
    description = &quot;A specific interpretation issue found during processing and interpretation of the record.\n\n&quot; +
      &quot;See the https://links.gbif.org/occurrence-issues[list of occurrence issues] and the &quot; +
      &quot;https://gbif.github.io/gbif-api/apidocs/org/gbif/api/vocabulary/OccurrenceIssue.html[OccurrenceIssue enumeration] &quot; +
      &quot;for possible values and definitions.&quot;
  )
<span class="fc" id="L648">  private Set&lt;OccurrenceIssue&gt; issues = EnumSet.noneOf(OccurrenceIssue.class);</span>

  // record level

  @Schema(
    description = &quot;The most recent date-time on which the occurrence was changed, according to the publisher.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Dublin Core definition&quot;,
      url = &quot;https://purl.org/dc/terms/modified&quot;
    )
  )
  private Date modified;  // interpreted dc:modified, i.e. date changed in source

  @Schema(
    description = &quot;The time this occurrence was last processed by GBIF's interpretation system “Pipelines”.\n\n&quot; +
      &quot;This is the time the record was last changed in GBIF, **not** the time the record was last changed by the &quot; +
      &quot;publisher.  Data is also reprocessed when we changed the taxonomic backbone, geographic data sources or &quot; +
      &quot;other interpretation procedures.\n\n&quot; +
      &quot;An earlier interpretation system distinguished between “parsing” and “interpretation”, but in the current &quot; +
      &quot;system there is only one process — the two dates will always be the same.&quot;
  )
  private Date lastInterpreted;

  @Schema(
    description = &quot;A related resource that is referenced, cited, or otherwise pointed to by the described resource.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Dublin Core definition&quot;,
      url = &quot;https://purl.org/dc/terms/references&quot;
    )
  )
  private URI references;

  @Schema(
    description = &quot;A legal document giving official permission to do something with the occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Dublin Core definition&quot;,
      url = &quot;https://purl.org/dc/terms/license&quot;
    )
  )
  private License license;

  @Schema(
    description = &quot;A number or enumeration value for the quantity of organisms.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/organismQuantity&quot;
    )
  )
  private Double organismQuantity;

  @Schema(
    description = &quot;The type of quantification system used for the quantity of organisms.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/organismQuantityType&quot;
    )
  )
  private String organismQuantityType;

  @Schema(
    description = &quot;The unit of measurement of the size (time duration, length, area, or volume) of a sample in a sampling event.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/sampleSizeUnit&quot;
    )
  )
  private String sampleSizeUnit;

  @Schema(
    description = &quot;A numeric value for a measurement of the size (time duration, length, area, or volume) of a sample in a sampling event.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/sampleSizeValue&quot;
    )
  )
  private Double sampleSizeValue;

  @Schema(
    description = &quot;The relative measurement of the quantity of the organism (i.e. without absolute units).&quot;
  )
  private Double relativeOrganismQuantity;

  @Schema(
    description = &quot;Flag occurrence when associatedSequences/extension exists&quot;
  )
  private boolean isSequenced;

  @Schema(
      description = &quot;A list (concatenated and separated) of identifiers (publication, global unique identifier, URI) &quot;
        + &quot;of genetic sequence information associated with the material entity.&quot;,
      externalDocs =
          @ExternalDocumentation(
              description = &quot;Darwin Core definition&quot;,
              url = &quot;https://rs.tdwg.org/dwc/terms/associatedSequences&quot;))
  private String associatedSequences;

  // interpreted extension data

<span class="fc" id="L746">  @Schema(</span>
    description = &quot;Alternative identifiers for the occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;GBIF Alternative Identifiers extension&quot;,
      url = &quot;https://rs.gbif.org/terms/1.0/Identifier&quot;
    )
  )
  private List&lt;Identifier&gt; identifiers = new ArrayList&lt;&gt;();

<span class="fc" id="L755">  @Schema(</span>
    description = &quot;Multimedia related to te occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;GBIF Multimedia extension&quot;,
      url = &quot;https://rs.gbif.org/terms/1.0/Multimedia&quot;
    )
  )
  private List&lt;MediaObject&gt; media = new ArrayList&lt;&gt;();

<span class="fc" id="L764">  @Schema(</span>
    description = &quot;Measurements or facts about the the occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/MeasurementOrFact&quot;
    )
  )
  private List&lt;MeasurementOrFact&gt; facts = new ArrayList&lt;&gt;();

<span class="fc" id="L773">  @Schema(</span>
    description = &quot;Relationships between occurrences.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/ResourceRelationship&quot;
    )
  )
  private List&lt;OccurrenceRelation&gt; relations = new ArrayList&lt;&gt;();

<span class="fc" id="L782">  @Schema(</span>
    description = &quot;A list of the globally unique identifiers for the person, people, groups, or organizations &quot; +
      &quot;responsible for recording the original Occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/recordedByID&quot;
    )
  )
  @JsonProperty(&quot;recordedByIDs&quot;)
  private List&lt;AgentIdentifier&gt; recordedByIds = new ArrayList&lt;&gt;();

<span class="fc" id="L793">  @Schema(</span>
    description = &quot;A list of the globally unique identifiers for the person, people, groups, or organizations &quot; +
      &quot;responsible for assigning the Taxon to the occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/identifiedByID&quot;
    )
  )
  @JsonProperty(&quot;identifiedByIDs&quot;)
  private List&lt;AgentIdentifier&gt; identifiedByIds = new ArrayList&lt;&gt;();

  @Schema(
    description = &quot;**Experimental.**  The UUID of the institution holding the specimen occurrence, from GRSciColl.&quot;
  )
  @Experimental
  private String institutionKey;

  @Schema(
    description = &quot;**Experimental.**  The UUID of the collection containing the specimen occurrence, from GRSciColl.&quot;
  )
  @Experimental
  private String collectionKey;

  @Schema(
    description = &quot;**Experimental.**  Whether the occurrence belongs to a machine-calculated cluster of probable &quot; +
      &quot;duplicate occurrences.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;GBIF Data Blog&quot;,
      url = &quot;https://data-blog.gbif.org/post/clustering-occurrences/&quot;
    )
  )
  @Experimental
  private boolean isInCluster;

  @Schema(
    description = &quot;An identifier for the set of data. May be a global unique identifier or an identifier specific to &quot; +
      &quot;a collection or institution.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/datasetID&quot;
    )
  )
  private String datasetID;

  @Schema(
    description = &quot;The name identifying the data set from which the record was derived.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/&quot;
    )
  )
  private String datasetName;

  @Schema(
    description = &quot;A list (concatenated and separated) of previous or alternate fully qualified catalogue numbers &quot; +
      &quot;or other human-used identifiers for the same occurrence, whether in the current or any other data set or collection.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/otherCatalogNumbers&quot;
    )
  )
  private String otherCatalogNumbers;

  @Schema(
    description = &quot;The full name of the earliest possible geochronologic eon or lowest chrono-stratigraphic eonothem or the informal name (\&quot;Precambrian\&quot;) attributable to the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/earliestEonOrLowestEonothem&quot;
    )
  )
  private String earliestEonOrLowestEonothem;

  @Schema(
    description = &quot;The full name of the latest possible geochronologic eon or highest chrono-stratigraphic eonothem or the informal name (\&quot;Precambrian\&quot;) attributable to the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/latestEonOrHighestEonothem&quot;
    )
  )
  private String latestEonOrHighestEonothem;

  @Schema(
    description = &quot;The full name of the earliest possible geochronologic era or lowest chronostratigraphic erathem attributable to the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/earliestEraOrLowestErathem&quot;
    )
  )
  private String earliestEraOrLowestErathem;

  @Schema(
    description = &quot;The full name of the latest possible geochronologic era or highest chronostratigraphic erathem attributable to the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/latestEraOrHighestErathem&quot;
    )
  )
  private String latestEraOrHighestErathem;

  @Schema(
    description = &quot;The full name of the earliest possible geochronologic period or lowest chronostratigraphic system attributable to the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/earliestPeriodOrLowestSystem&quot;
    )
  )
  private String earliestPeriodOrLowestSystem;

  @Schema(
    description = &quot;The full name of the latest possible geochronologic period or highest chronostratigraphic system attributable to the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/latestPeriodOrHighestSystem&quot;
    )
  )
  private String latestPeriodOrHighestSystem;

  @Schema(
    description = &quot;The full name of the earliest possible geochronologic epoch or lowest chronostratigraphic series attributable to the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/earliestEpochOrLowestSeries&quot;
    )
  )
  private String earliestEpochOrLowestSeries;

  @Schema(
    description = &quot;The full name of the latest possible geochronologic epoch or highest chronostratigraphic series attributable to the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/latestEpochOrHighestSeries&quot;
    )
  )
  private String latestEpochOrHighestSeries;

  @Schema(
    description = &quot;The full name of the earliest possible geochronologic age or lowest chronostratigraphic stage attributable to the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/earliestAgeOrLowestStage&quot;
    )
  )
  private String earliestAgeOrLowestStage;

  @Schema(
    description = &quot;The full name of the latest possible geochronologic age or highest chronostratigraphic stage attributable to the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/latestAgeOrHighestStage&quot;
    )
  )
  private String latestAgeOrHighestStage;

  @Schema(
    description = &quot;The full name of the lowest possible geological biostratigraphic zone of the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/lowestBiostratigraphicZone&quot;
    )
  )
  private String lowestBiostratigraphicZone;

  @Schema(
    description = &quot;The full name of the highest possible geological biostratigraphic zone of the stratigraphic horizon from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/highestBiostratigraphicZone&quot;
    )
  )
  private String highestBiostratigraphicZone;

  @Schema(
    description = &quot;The full name of the lithostratigraphic group from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/group&quot;
    )
  )
  private String group;

  @Schema(
    description = &quot;The full name of the lithostratigraphic formation from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/formation&quot;
    )
  )
  private String formation;

  @Schema(
    description = &quot;The full name of the lithostratigraphic member from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/member&quot;
    )
  )
  private String member;

  @Schema(
    description = &quot;The full name of the lithostratigraphic bed from which the dwc:MaterialEntity was collected.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/bed&quot;
    )
  )
  private String bed;


  @Schema(
    description = &quot;A person, group, or organization responsible for recording the original occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/recordedBy&quot;
    )
  )
  private String recordedBy;

  @Schema(
    description = &quot;A list (concatenated and separated) of names of people, groups, or organizations who assigned the &quot; +
      &quot;Taxon to the occurrence.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/identifiedBy&quot;
    )
  )
  private String identifiedBy;

  @Schema(
    description = &quot;A preparation or preservation method for a specimen.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/preparations&quot;
    )
  )
  private String preparations;

  @Schema(
    description = &quot;The methods or protocols used during an Event, denoted by an IRI.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/samplingProtocol&quot;
    )
  )
  private String samplingProtocol;

<span class="fc" id="L1038">  @Schema(</span>
    description = &quot;**Experimental.**  The DNA sequence ID of an occurrence.&quot;
  )
  @Experimental
  private List&lt;String&gt; dnaSequenceID = new ArrayList&lt;&gt;();

<span class="fc" id="L1044">  public Occurrence() {</span>

<span class="fc" id="L1046">  }</span>

  /**
   * Create occurrence instance from existing verbatim one, copying over all data.
   */
<span class="fc" id="L1051">  public Occurrence(@Nullable VerbatimOccurrence verbatim) {</span>
<span class="fc bfc" id="L1052" title="All 2 branches covered.">    if (verbatim != null) {</span>
<span class="fc" id="L1053">      setKey(verbatim.getKey());</span>
<span class="fc" id="L1054">      setDatasetKey(verbatim.getDatasetKey());</span>
<span class="fc" id="L1055">      setPublishingOrgKey(verbatim.getPublishingOrgKey());</span>
<span class="fc" id="L1056">      setPublishingCountry(verbatim.getPublishingCountry());</span>
<span class="fc" id="L1057">      setProtocol(verbatim.getProtocol());</span>
<span class="fc" id="L1058">      setCrawlId(verbatim.getCrawlId());</span>
<span class="fc bfc" id="L1059" title="All 2 branches covered.">      if (verbatim.getLastCrawled() != null) {</span>
<span class="fc" id="L1060">        setLastCrawled(new Date(verbatim.getLastCrawled().getTime()));</span>
      }
<span class="pc bpc" id="L1062" title="1 of 2 branches missed.">      if (verbatim.getVerbatimFields() != null) {</span>
<span class="fc" id="L1063">        getVerbatimFields().putAll(verbatim.getVerbatimFields());</span>
      }
<span class="pc bpc" id="L1065" title="1 of 2 branches missed.">      if (verbatim.getLastParsed() != null) {</span>
<span class="nc" id="L1066">        setLastParsed(verbatim.getLastParsed());</span>
      }
<span class="fc" id="L1068">      setExtensions(verbatim.getExtensions());</span>
    }
<span class="fc" id="L1070">  }</span>

  @Nullable
  public BasisOfRecord getBasisOfRecord() {
<span class="fc" id="L1074">    return basisOfRecord;</span>
  }

  public void setBasisOfRecord(BasisOfRecord basisOfRecord) {
<span class="fc" id="L1078">    this.basisOfRecord = basisOfRecord;</span>
<span class="fc" id="L1079">  }</span>

  @Nullable
  public Integer getIndividualCount() {
<span class="fc" id="L1083">    return individualCount;</span>
  }

  public void setIndividualCount(Integer individualCount) {
<span class="nc" id="L1087">    this.individualCount = individualCount;</span>
<span class="nc" id="L1088">  }</span>

  @Nullable
  public OccurrenceStatus getOccurrenceStatus() {
<span class="fc" id="L1092">    return occurrenceStatus;</span>
  }

  public void setOccurrenceStatus(OccurrenceStatus occurrenceStatus) {
<span class="nc" id="L1096">    this.occurrenceStatus = occurrenceStatus;</span>
<span class="nc" id="L1097">  }</span>

  @Nullable
  public String getSex() {
<span class="fc" id="L1101">    return sex;</span>
  }

  public void setSex(String sex) {
<span class="nc" id="L1105">    this.sex = sex;</span>
<span class="nc" id="L1106">  }</span>

  @Nullable
  public String getLifeStage() {
<span class="fc" id="L1110">    return lifeStage;</span>
  }

  public void setLifeStage(String lifeStage) {
<span class="nc" id="L1114">    this.lifeStage = lifeStage;</span>
<span class="nc" id="L1115">  }</span>

  @Nullable
  public String getEstablishmentMeans() {
<span class="fc" id="L1119">    return establishmentMeans;</span>
  }

  public void setEstablishmentMeans(String establishmentMeans) {
<span class="nc" id="L1123">    this.establishmentMeans = establishmentMeans;</span>
<span class="nc" id="L1124">  }</span>

  /**
   * The best matching, accepted GBIF backbone name usage representing this occurrence.
   * In case the verbatim scientific name and its classification can only be matched to a higher rank this will
   * represent the lowest matching rank. In the worst case this could just be for example Animalia.
   */
  @Nullable
  public Integer getTaxonKey() {
<span class="fc" id="L1133">    return taxonKey;</span>
  }

  public void setTaxonKey(Integer taxonKey) {
<span class="fc" id="L1137">    this.taxonKey = taxonKey;</span>
<span class="fc" id="L1138">  }</span>

  @Nullable
  @Override
  public Integer getKingdomKey() {
<span class="fc" id="L1143">    return kingdomKey;</span>
  }

  @Override
  public void setKingdomKey(@Nullable Integer kingdomKey) {
<span class="fc" id="L1148">    this.kingdomKey = kingdomKey;</span>
<span class="fc" id="L1149">  }</span>

  @Nullable
  @Override
  public Integer getPhylumKey() {
<span class="fc" id="L1154">    return phylumKey;</span>
  }

  @Override
  public void setPhylumKey(@Nullable Integer phylumKey) {
<span class="nc" id="L1159">    this.phylumKey = phylumKey;</span>
<span class="nc" id="L1160">  }</span>

  @Nullable
  @Override
  public Integer getClassKey() {
<span class="fc" id="L1165">    return classKey;</span>
  }

  @Override
  public void setClassKey(@Nullable Integer classKey) {
<span class="fc" id="L1170">    this.classKey = classKey;</span>
<span class="fc" id="L1171">  }</span>

  @Nullable
  @Override
  public Integer getOrderKey() {
<span class="fc" id="L1176">    return orderKey;</span>
  }

  @Override
  public void setOrderKey(@Nullable Integer orderKey) {
<span class="nc" id="L1181">    this.orderKey = orderKey;</span>
<span class="nc" id="L1182">  }</span>

  @Nullable
  @Override
  public Integer getFamilyKey() {
<span class="fc" id="L1187">    return familyKey;</span>
  }

  @Override
  public void setFamilyKey(@Nullable Integer familyKey) {
<span class="fc" id="L1192">    this.familyKey = familyKey;</span>
<span class="fc" id="L1193">  }</span>

  @Nullable
  @Override
  public Integer getGenusKey() {
<span class="fc" id="L1198">    return genusKey;</span>
  }

  @Override
  public void setGenusKey(@Nullable Integer genusKey) {
<span class="nc" id="L1203">    this.genusKey = genusKey;</span>
<span class="nc" id="L1204">  }</span>

  @Nullable
  @Override
  public Integer getSubgenusKey() {
<span class="fc" id="L1209">    return subgenusKey;</span>
  }

  @Override
  public void setSubgenusKey(@Nullable Integer subgenusKey) {
<span class="nc" id="L1214">    this.subgenusKey = subgenusKey;</span>
<span class="nc" id="L1215">  }</span>

  @Nullable
  @Override
  public Integer getHigherRankKey(Rank rank) {
<span class="fc" id="L1220">    return ClassificationUtils.getHigherRankKey(this, rank);</span>
  }

  /**
   * An ordered map with entries for all higher Linnean ranks excluding the taxonKey itself.
   * The map starts with the highest rank, e.g. the kingdom and maps the name usage key to its canonical name.
   *
   * @return map of higher ranks
   */
  @NotNull
  @JsonIgnore
  public Map&lt;Integer, String&gt; getHigherClassificationMap() {
<span class="fc bfc" id="L1232" title="All 2 branches covered.">    return taxonKey == null ? ClassificationUtils.getHigherClassificationMap(this)</span>
<span class="fc" id="L1233">      : ClassificationUtils.getHigherClassificationMap(this, taxonKey, null, null);</span>
  }

  /**
   * The accepted species for this occurrence. In case the taxonKey is of a higher rank than species (e.g. genus)
   * speciesKey is null. In case taxonKey represents an infraspecific taxon the speciesKey points to the species
   * the infraspecies is classified as. In case of taxonKey being a species the speciesKey is the same.
   */
  @Nullable
  @Override
  public Integer getSpeciesKey() {
<span class="fc" id="L1244">    return speciesKey;</span>
  }

  @Override
  public void setSpeciesKey(@Nullable Integer speciesKey) {
<span class="nc" id="L1249">    this.speciesKey = speciesKey;</span>
<span class="nc" id="L1250">  }</span>

  /**
   * The accepted taxon key from the GBIF backbone.
   */
  @Nullable
  public Integer getAcceptedTaxonKey() {
<span class="fc" id="L1257">    return acceptedTaxonKey;</span>
  }

  public void setAcceptedTaxonKey(Integer acceptedTaxonKey) {
<span class="nc" id="L1261">    this.acceptedTaxonKey = acceptedTaxonKey;</span>
<span class="nc" id="L1262">  }</span>

  @Nullable
  public String getSpecificEpithet() {
<span class="fc" id="L1266">    return specificEpithet;</span>
  }

  public void setSpecificEpithet(String specificEpithet) {
<span class="nc" id="L1270">    this.specificEpithet = specificEpithet;</span>
<span class="nc" id="L1271">  }</span>

  @Nullable
  public String getInfraspecificEpithet() {
<span class="fc" id="L1275">    return infraspecificEpithet;</span>
  }

  public void setInfraspecificEpithet(String infraspecificEpithet) {
<span class="nc" id="L1279">    this.infraspecificEpithet = infraspecificEpithet;</span>
<span class="nc" id="L1280">  }</span>

  @Nullable
  public Rank getTaxonRank() {
<span class="fc" id="L1284">    return taxonRank;</span>
  }

  public void setTaxonRank(Rank taxonRank) {
<span class="nc" id="L1288">    this.taxonRank = taxonRank;</span>
<span class="nc" id="L1289">  }</span>

  /**
   * The status of the use of the scientificName as a label for a taxon.
   * The GBIF recommended controlled value vocabulary can be found at &lt;a href=&quot;http://rs.gbif.org/vocabulary/gbif/taxonomic_status.xml&quot;&gt;http://rs.gbif.org/vocabulary/gbif/taxonomic_status.xm&lt;/a&gt;.
   */
  @Nullable
  public TaxonomicStatus getTaxonomicStatus() {
<span class="fc" id="L1297">    return taxonomicStatus;</span>
  }

  public void setTaxonomicStatus(TaxonomicStatus taxonomicStatus) {
<span class="nc" id="L1301">    this.taxonomicStatus = taxonomicStatus;</span>
<span class="nc" id="L1302">  }</span>

  /**
   * The IUCN Red List Category.
   */
  @Nullable
  public String getIucnRedListCategory() {
<span class="fc" id="L1309">    return iucnRedListCategory;</span>
  }

  public void setIucnRedListCategory(String iucnRedListCategory) {
<span class="nc" id="L1313">    this.iucnRedListCategory = iucnRedListCategory;</span>
<span class="nc" id="L1314">  }</span>

  /**
   * The scientific name for taxonKey from the GBIF backbone.
   */
  @Nullable
  public String getScientificName() {
<span class="fc" id="L1321">    return scientificName;</span>
  }

  public void setScientificName(@Nullable String scientificName) {
<span class="fc" id="L1325">    this.scientificName = scientificName;</span>
<span class="fc" id="L1326">  }</span>

  /**
   * The verbatim scientific name as provided by the source.
   */
  @Nullable
  @JsonProperty(access = JsonProperty.Access.WRITE_ONLY)
  public String getVerbatimScientificName() {
<span class="nc" id="L1334">    return getVerbatimField(DwcTerm.scientificName);</span>
  }

  public void setVerbatimScientificName(String scientificName) {
    //DO NOTHING
<span class="fc" id="L1339">  }</span>

  /**
   * The accepted scientific name for the acceptedTaxonKey from the GBIF backbone.
   */
  @Nullable
  public String getAcceptedScientificName() {
<span class="fc" id="L1346">    return acceptedScientificName;</span>
  }

  public void setAcceptedScientificName(String acceptedScientificName) {
<span class="nc" id="L1350">    this.acceptedScientificName = acceptedScientificName;</span>
<span class="nc" id="L1351">  }</span>

  @Nullable
  @Override
  public String getKingdom() {
<span class="fc" id="L1356">    return kingdom;</span>
  }

  @Override
  public void setKingdom(@Nullable String kingdom) {
<span class="fc" id="L1361">    this.kingdom = kingdom;</span>
<span class="fc" id="L1362">  }</span>

  @Nullable
  @Override
  public String getPhylum() {
<span class="fc" id="L1367">    return phylum;</span>
  }

  @Override
  public void setPhylum(@Nullable String phylum) {
<span class="nc" id="L1372">    this.phylum = phylum;</span>
<span class="nc" id="L1373">  }</span>

  @Nullable
  @Override
  public String getClazz() {
<span class="fc" id="L1378">    return clazz;</span>
  }

  @Override
  public void setClazz(@Nullable String clazz) {
<span class="fc" id="L1383">    this.clazz = clazz;</span>
<span class="fc" id="L1384">  }</span>

  @Nullable
  @Override
  public String getOrder() {
<span class="fc" id="L1389">    return order;</span>
  }

  @Override
  public void setOrder(@Nullable String order) {
<span class="nc" id="L1394">    this.order = order;</span>
<span class="nc" id="L1395">  }</span>

  @Nullable
  @Override
  public String getFamily() {
<span class="fc" id="L1400">    return family;</span>
  }

  @Override
  public void setFamily(@Nullable String family) {
<span class="fc" id="L1405">    this.family = family;</span>
<span class="fc" id="L1406">  }</span>

  @Nullable
  @Override
  public String getGenus() {
<span class="fc" id="L1411">    return genus;</span>
  }

  @Override
  public void setGenus(@Nullable String genus) {
<span class="nc" id="L1416">    this.genus = genus;</span>
<span class="nc" id="L1417">  }</span>

  @Nullable
  public String getGenericName() {
<span class="fc" id="L1421">    return genericName;</span>
  }

  public void setGenericName(String genericName) {
<span class="nc" id="L1425">    this.genericName = genericName;</span>
<span class="nc" id="L1426">  }</span>

  @Nullable
  @Override
  public String getSubgenus() {
<span class="fc" id="L1431">    return subgenus;</span>
  }

  @Override
  public void setSubgenus(@Nullable String subgenus) {
<span class="nc" id="L1436">    this.subgenus = subgenus;</span>
<span class="nc" id="L1437">  }</span>

  @Nullable
  @Override
  public String getHigherRank(Rank rank) {
<span class="fc" id="L1442">    return ClassificationUtils.getHigherRank(this, rank);</span>
  }

  /**
   * The corresponding scientific name of the speciesKey from the GBIF backbone.
   */
  @Nullable
  @Override
  public String getSpecies() {
<span class="fc" id="L1451">    return species;</span>
  }

  @Override
  public void setSpecies(@Nullable String species) {
<span class="nc" id="L1456">    this.species = species;</span>
<span class="nc" id="L1457">  }</span>

  @Nullable
  public Date getDateIdentified() {
<span class="pc bpc" id="L1461" title="1 of 2 branches missed.">    return dateIdentified == null ? null : new Date(dateIdentified.getTime());</span>
  }

  public void setDateIdentified(@Nullable Date dateIdentified) {
<span class="pc bpc" id="L1465" title="1 of 2 branches missed.">    this.dateIdentified = dateIdentified == null ? null : new Date(dateIdentified.getTime());</span>
<span class="fc" id="L1466">  }</span>

  /**
   * The decimalLongitude in decimal degrees always for the WGS84 datum. If a different geodetic datum was given the verbatim
   * coordinates are transformed into WGS84 values.
   */
  @Nullable
  public Double getDecimalLongitude() {
<span class="fc" id="L1474">    return decimalLongitude;</span>
  }

  public void setDecimalLongitude(@Nullable Double decimalLongitude) {
<span class="fc" id="L1478">    this.decimalLongitude = decimalLongitude;</span>
<span class="fc" id="L1479">  }</span>

  @Nullable
  public Double getDecimalLatitude() {
<span class="fc" id="L1483">    return decimalLatitude;</span>
  }

  public void setDecimalLatitude(@Nullable Double decimalLatitude) {
<span class="fc" id="L1487">    this.decimalLatitude = decimalLatitude;</span>
<span class="fc" id="L1488">  }</span>

  /**
   * The uncertainty radius for lat/lon in meters.
   */
  @Nullable
  public Double getCoordinateUncertaintyInMeters() {
<span class="fc" id="L1495">    return coordinateUncertaintyInMeters;</span>
  }

  public void setCoordinateUncertaintyInMeters(@Nullable Double coordinateUncertaintyInMeters) {
<span class="fc" id="L1499">    this.coordinateUncertaintyInMeters = coordinateUncertaintyInMeters;</span>
<span class="fc" id="L1500">  }</span>

  @Nullable
  public Double getCoordinatePrecision() {
<span class="fc" id="L1504">    return coordinatePrecision;</span>
  }

  public void setCoordinatePrecision(Double coordinatePrecision) {
<span class="nc" id="L1508">    this.coordinatePrecision = coordinatePrecision;</span>
<span class="nc" id="L1509">  }</span>

  /**
   * @deprecated to be removed in the public v2 of the API (see POR-3061)
   * The uncertainty for latitude in decimal degrees.
   * Note that the longitude degrees have a different accuracy in degrees which changes with latitude and is largest at the poles.
   */
  @Nullable
  @Deprecated
  public Double getCoordinateAccuracy() {
<span class="fc" id="L1519">    return coordinateAccuracy;</span>
  }

  public void setCoordinateAccuracy(@Nullable Double coordinateAccuracy) {
<span class="fc" id="L1523">    this.coordinateAccuracy = coordinateAccuracy;</span>
<span class="fc" id="L1524">  }</span>

  /**
   * The geodetic datum for the interpreted decimal coordinates.
   * This is always WGS84 if a coordinate exists as we reproject other datums into WGS84.
   */
  @Schema(
    description = &quot;The geodetic datum for the interpreted decimal coordinates.\n\n&quot; +
      &quot;Coordinates are reprojected to WGS84 if they exist, so this field is either null or `WGS84`.&quot;
  )
  @Nullable
  public String getGeodeticDatum() {
<span class="fc bfc" id="L1536" title="All 2 branches covered.">    if (decimalLatitude != null) {</span>
<span class="fc" id="L1537">      return GEO_DATUM;</span>
    }
<span class="fc" id="L1539">    return null;</span>
  }

  /**
   * This private method is needed for jackson deserialization only.
   */
  private void setGeodeticDatum(String datum) {
    // ignore, we have a static WGS84 value
<span class="fc" id="L1547">  }</span>

  /**
   * Elevation in meters usually above sea level (altitude).
   * &lt;/br&gt;
   * The elevation is calculated using the equation: (minimumElevationInMeters + maximumElevationInMeters) / 2.
   */
  @Nullable
  public Double getElevation() {
<span class="fc" id="L1556">    return elevation;</span>
  }

  public void setElevation(@Nullable Double elevation) {
<span class="nc" id="L1560">    this.elevation = elevation;</span>
<span class="nc" id="L1561">  }</span>

  /**
   * Elevation accuracy is the uncertainty for the elevation in meters.
   * &lt;/br&gt;
   * The elevation accuracy is calculated using the equation: (maximumElevationInMeters - minimumElevationInMeters) / 2
   */
  @Nullable
  public Double getElevationAccuracy() {
<span class="fc" id="L1570">    return elevationAccuracy;</span>
  }

  public void setElevationAccuracy(@Nullable Double elevationAccuracy) {
<span class="nc" id="L1574">    this.elevationAccuracy = elevationAccuracy;</span>
<span class="nc" id="L1575">  }</span>

  /**
   * Depth in meters below the surface. Complimentary to elevation, the depth can be 10 meters below the surface of a
   * lake in 1100m (=elevation).
   * &lt;/br&gt;
   * The depth is calculated using the equation: (minimumDepthInMeters + maximumDepthInMeters) / 2.
   */
  @Nullable
  public Double getDepth() {
<span class="fc" id="L1585">    return depth;</span>
  }

  public void setDepth(@Nullable Double depth) {
<span class="nc" id="L1589">    this.depth = depth;</span>
<span class="nc" id="L1590">  }</span>

  /**
   * Depth accuracy is the uncertainty for the depth in meters.
   * &lt;/br&gt;
   * The depth accuracy is calculated using the equation: (maximumDepthInMeters - minimumDepthInMeters) / 2
   */
  @Nullable
  public Double getDepthAccuracy() {
<span class="fc" id="L1599">    return depthAccuracy;</span>
  }

  public void setDepthAccuracy(@Nullable Double depthAccuracy) {
<span class="nc" id="L1603">    this.depthAccuracy = depthAccuracy;</span>
<span class="nc" id="L1604">  }</span>

  @Nullable
  public Continent getContinent() {
<span class="fc" id="L1608">    return continent;</span>
  }

  public void setContinent(@Nullable Continent continent) {
<span class="fc" id="L1612">    this.continent = continent;</span>
<span class="fc" id="L1613">  }</span>

  @Schema(
    description = &quot;The 2-letter country code (as per ISO-3166-1) of the country, territory or area in which the &quot; +
      &quot;occurrence was recorded.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/countryCode&quot;
    )
  )
  @Nullable
  @JsonProperty(&quot;countryCode&quot;)
  public Country getCountry() {
<span class="fc" id="L1626">    return country;</span>
  }

  public void setCountry(@Nullable Country country) {
<span class="fc" id="L1630">    this.country = country;</span>
<span class="fc" id="L1631">  }</span>

  @Nullable
  @JsonProperty(&quot;gbifRegion&quot;)
  public GbifRegion getGbifRegion() {
<span class="fc" id="L1636">    return Optional.ofNullable(country).map(Country::getGbifRegion).orElse(null);</span>
  }

  private void setGbifRegion(String gbifRegion) {
    // ignore, setter only to avoid JSON being written into the fields map
<span class="fc" id="L1641">  }</span>

  /**
   * Renders the country title as a JSON property country in addition to the ISO 3166 2 letter countryCode being
   * serialized by the regular country Java property.
   * Made private to use it only for JSON serialization and not within Java code.
   */
  @Schema(
    description = &quot;The title (as per ISO-3166-1) of the country, territory or area in which the &quot; +
      &quot;occurrence was recorded.&quot;,
    externalDocs = @ExternalDocumentation(
      description = &quot;Darwin Core definition&quot;,
      url = &quot;https://rs.tdwg.org/dwc/terms/country&quot;
    )
  )
  @Nullable
  @JsonProperty(&quot;country&quot;)
  private String getCountryTitle() {
<span class="fc bfc" id="L1659" title="All 2 branches covered.">    return country == null ? null : country.getTitle();</span>
  }

  private void setCountryTitle(String country) {
    // ignore, setter only to avoid JSON being written into the fields map
<span class="fc" id="L1664">  }</span>

  @Nullable
  public String getStateProvince() {
<span class="fc" id="L1668">    return stateProvince;</span>
  }

  public void setStateProvince(@Nullable String stateProvince) {
<span class="nc" id="L1672">    this.stateProvince = stateProvince;</span>
<span class="nc" id="L1673">  }</span>

  @Nullable
  public String getWaterBody() {
<span class="fc" id="L1677">    return waterBody;</span>
  }

  public void setWaterBody(@Nullable String waterBody) {
<span class="nc" id="L1681">    this.waterBody = waterBody;</span>
<span class="nc" id="L1682">  }</span>

  /**
   * The distance in metres from a known centroid, e.g. a country centroid.
   */
  public Double getDistanceFromCentroidInMeters() {
<span class="fc" id="L1688">    return distanceFromCentroidInMeters;</span>
  }

  public void setDistanceFromCentroidInMeters(Double distanceFromCentroidInMeters) {
<span class="nc" id="L1692">    this.distanceFromCentroidInMeters = distanceFromCentroidInMeters;</span>
<span class="nc" id="L1693">  }</span>

  @Nullable
  public String getHigherGeography() {
<span class="fc" id="L1697">    return higherGeography;</span>
  }

  public void setHigherGeography(String higherGeography) {
<span class="nc" id="L1701">    this.higherGeography = higherGeography;</span>
<span class="nc" id="L1702">  }</span>

  @Nullable
  public String getGeoreferencedBy() {
<span class="fc" id="L1706">    return georeferencedBy;</span>
  }

  public void setGeoreferencedBy(String georeferencedBy) {
<span class="nc" id="L1710">    this.georeferencedBy = georeferencedBy;</span>
<span class="nc" id="L1711">  }</span>

  /**
   * The full year of the event date.
   *
   * @return the year of the event date
   */
  @Min(1500)
  @Max(2030)
  @Nullable
  public Integer getYear() {
<span class="fc" id="L1722">    return year;</span>
  }

  public void setYear(@Nullable Integer year) {
<span class="fc" id="L1726">    this.year = year;</span>
<span class="fc" id="L1727">  }</span>

  /**
   * The month of the year of the event date starting with zero for january following {@link Date}.
   *
   * @return the month of the event date
   */
  @Min(1)
  @Max(12)
  @Nullable
  public Integer getMonth() {
<span class="fc" id="L1738">    return month;</span>
  }

  public void setMonth(@Nullable Integer month) {
<span class="fc" id="L1742">    this.month = month;</span>
<span class="fc" id="L1743">  }</span>

  /**
   * The day of the month of the event date.
   *
   * @return the day of the event date
   */
  @Min(1)
  @Max(31)
  @Nullable
  public Integer getDay() {
<span class="fc" id="L1754">    return day;</span>
  }

  public void setDay(@Nullable Integer day) {
<span class="fc" id="L1758">    this.day = day;</span>
<span class="fc" id="L1759">  }</span>

  /**
   * The date the occurrence was recorded or collected.
   */
  @Nullable
  public IsoDateInterval getEventDate() {
<span class="pc bpc" id="L1766" title="1 of 2 branches missed.">    return eventDate == null ? null : new IsoDateInterval(eventDate.getFrom(), eventDate.getTo());</span>
  }

  public void setEventDate(@Nullable IsoDateInterval eventDate) {
<span class="pc bpc" id="L1770" title="1 of 2 branches missed.">    this.eventDate = eventDate == null ? null : new IsoDateInterval(eventDate.getFrom(), eventDate.getTo());</span>
<span class="fc" id="L1771">  }</span>

  /**
   * The earliest integer day of the year of the event.
   *
   * @return the earliest integer day of the event date
   */
  @Min(1)
  @Max(366)
  @Nullable
  public Integer getStartDayOfYear() {
<span class="fc" id="L1782">    return startDayOfYear;</span>
  }

  public void setStartDayOfYear(@Nullable Integer startDayOfYear) {
<span class="nc" id="L1786">    this.startDayOfYear = startDayOfYear;</span>
<span class="nc" id="L1787">  }</span>

  /**
   * The latest integer day of the year of the event.
   *
   * @return the latest integer day of the event date
   */
  @Min(1)
  @Max(366)
  @Nullable
  public Integer getEndDayOfYear() {
<span class="fc" id="L1798">    return endDayOfYear;</span>
  }

  public void setEndDayOfYear(@Nullable Integer endDayOfYear) {
<span class="nc" id="L1802">    this.endDayOfYear = endDayOfYear;</span>
<span class="nc" id="L1803">  }</span>

  @Nullable
  public String getTypeStatus() {
<span class="fc" id="L1807">    return typeStatus;</span>
  }

  public void setTypeStatus(@Nullable String typeStatus) {
<span class="nc" id="L1811">    this.typeStatus = typeStatus;</span>
<span class="nc" id="L1812">  }</span>

  /**
   * The scientific name the type status of this specimen applies to.
   */
  @Nullable
  public String getTypifiedName() {
<span class="fc" id="L1819">    return typifiedName;</span>
  }

  public void setTypifiedName(@Nullable String typifiedName) {
<span class="nc" id="L1823">    this.typifiedName = typifiedName;</span>
<span class="nc" id="L1824">  }</span>

  /**
   * A set of issues found for this occurrence.
   */
  @NotNull
  public Set&lt;OccurrenceIssue&gt; getIssues() {
<span class="fc" id="L1831">    return issues;</span>
  }

  public void setIssues(Set&lt;OccurrenceIssue&gt; issues) {
<span class="fc" id="L1835">    Objects.requireNonNull(issues, &quot;Issues cannot be null&quot;);</span>
<span class="fc" id="L1836">    EnumSet&lt;OccurrenceIssue&gt; set = EnumSet.noneOf(OccurrenceIssue.class);</span>
<span class="fc" id="L1837">    set.addAll(issues);</span>
<span class="fc" id="L1838">    this.issues = set;</span>
<span class="fc" id="L1839">  }</span>

  public void addIssue(OccurrenceIssue issue) {
<span class="fc" id="L1842">    Objects.requireNonNull(issue, &quot;Issue needs to be specified&quot;);</span>
<span class="fc" id="L1843">    issues.add(issue);</span>
<span class="fc" id="L1844">  }</span>

  /**
   * The interpreted dc:modified from the verbatim source data.
   * Ideally indicating when a record was last modified in the source.
   */
  @Nullable
  public Date getModified() {
<span class="pc bpc" id="L1852" title="1 of 2 branches missed.">    return modified == null ? null : new Date(modified.getTime());</span>
  }

  public void setModified(@Nullable Date modified) {
<span class="pc bpc" id="L1856" title="1 of 2 branches missed.">    this.modified = modified == null ? null : new Date(modified.getTime());</span>
<span class="fc" id="L1857">  }</span>

  /**
   * The date this occurrence last went through the interpretation phase of the GBIF indexing.
   */
  @Nullable
  public Date getLastInterpreted() {
<span class="fc bfc" id="L1864" title="All 2 branches covered.">    return lastInterpreted == null ? null : new Date(lastInterpreted.getTime());</span>
  }

  public void setLastInterpreted(@Nullable Date lastInterpreted) {
<span class="fc bfc" id="L1868" title="All 2 branches covered.">    this.lastInterpreted = lastInterpreted == null ? null : new Date(lastInterpreted.getTime());</span>
<span class="fc" id="L1869">  }</span>

  /**
   * An external link to more details, the records &quot;homepage&quot;.
   */
  @Nullable
  public URI getReferences() {
<span class="fc" id="L1876">    return references;</span>
  }

  public void setReferences(URI references) {
<span class="nc" id="L1880">    this.references = references;</span>
<span class="nc" id="L1881">  }</span>

  /**
   * A number or enumeration value for the quantity of organisms.
   */
  @Nullable
  public Double getOrganismQuantity() {
<span class="fc" id="L1888">    return organismQuantity;</span>
  }

  public void setOrganismQuantity(@Nullable Double organismQuantity) {
<span class="nc" id="L1892">    this.organismQuantity = organismQuantity;</span>
<span class="nc" id="L1893">  }</span>

  /**
   * The type of quantification system used for the quantity of organisms.
   */
  @Nullable
  public String getOrganismQuantityType() {
<span class="fc" id="L1900">    return organismQuantityType;</span>
  }

  public void setOrganismQuantityType(@Nullable String organismQuantityType) {
<span class="nc" id="L1904">    this.organismQuantityType = organismQuantityType;</span>
<span class="nc" id="L1905">  }</span>

  /**
   * The unit of measurement of the size (time duration, length, area, or volume) of a sample in a sampling event.
   */
  @Nullable
  public String getSampleSizeUnit() {
<span class="fc" id="L1912">    return sampleSizeUnit;</span>
  }

  public void setSampleSizeUnit(@Nullable String sampleSizeUnit) {
<span class="nc" id="L1916">    this.sampleSizeUnit = sampleSizeUnit;</span>
<span class="nc" id="L1917">  }</span>

  /**
   * A numeric value for a measurement of the size (time duration, length, area, or volume) of a sample in a sampling event.
   */
  @Nullable
  public Double getSampleSizeValue() {
<span class="fc" id="L1924">    return sampleSizeValue;</span>
  }

  public void setSampleSizeValue(@Nullable Double sampleSizeValue) {
<span class="nc" id="L1928">    this.sampleSizeValue = sampleSizeValue;</span>
<span class="nc" id="L1929">  }</span>

  /**
   * Calculated filed organismQuantity / sampleSizeValue, if the type is identical
   */
  @Nullable
  public Double getRelativeOrganismQuantity() {
<span class="fc" id="L1936">    return relativeOrganismQuantity;</span>
  }

  public void setRelativeOrganismQuantity(@Nullable Double relativeOrganismQuantity) {
<span class="nc" id="L1940">    this.relativeOrganismQuantity = relativeOrganismQuantity;</span>
<span class="nc" id="L1941">  }</span>

  /**
   * Flag occurrence when associatedSequences/extension exists
   */
  public boolean getIsSequenced() {
<span class="fc" id="L1947">    return isSequenced;</span>
  }

  public void setIsSequenced(boolean isSequenced) {
<span class="fc" id="L1951">    this.isSequenced = isSequenced;</span>
<span class="fc" id="L1952">  }</span>

  /**
   * A list (concatenated and separated) of identifiers (publication, global unique identifier, URI) of genetic
   * sequence information associated with the material entity.
   */
  @Nullable
  public String getAssociatedSequences() {
<span class="fc" id="L1960">    return associatedSequences;</span>
  }

  public void setAssociatedSequences(String associatedSequences) {
<span class="nc" id="L1964">    this.associatedSequences = associatedSequences;</span>
<span class="nc" id="L1965">  }</span>

  /**
   * Applied license to the occurrence record or dataset to which this record belongs to.
   */
  @NotNull
  public License getLicense() {
<span class="fc" id="L1972">    return license;</span>
  }

  public void setLicense(License license) {
<span class="nc" id="L1976">    this.license = license;</span>
<span class="nc" id="L1977">  }</span>

  @NotNull
  public List&lt;Identifier&gt; getIdentifiers() {
<span class="fc" id="L1981">    return identifiers;</span>
  }

  public void setIdentifiers(List&lt;Identifier&gt; identifiers) {
<span class="fc" id="L1985">    this.identifiers = identifiers;</span>
<span class="fc" id="L1986">  }</span>

  @NotNull
  public List&lt;MediaObject&gt; getMedia() {
<span class="fc" id="L1990">    return media;</span>
  }

  public void setMedia(List&lt;MediaObject&gt; media) {
<span class="fc" id="L1994">    this.media = media;</span>
<span class="fc" id="L1995">  }</span>

  @NotNull
  public List&lt;MeasurementOrFact&gt; getFacts() {
<span class="fc" id="L1999">    return facts;</span>
  }

  public void setFacts(List&lt;MeasurementOrFact&gt; facts) {
<span class="fc" id="L2003">    this.facts = facts;</span>
<span class="fc" id="L2004">  }</span>

  @NotNull
  public List&lt;OccurrenceRelation&gt; getRelations() {
<span class="fc" id="L2008">    return relations;</span>
  }

  public void setRelations(List&lt;OccurrenceRelation&gt; relations) {
<span class="fc" id="L2012">    this.relations = relations;</span>
<span class="fc" id="L2013">  }</span>

  @NotNull
  public List&lt;AgentIdentifier&gt; getRecordedByIds() {
<span class="fc" id="L2017">    return recordedByIds;</span>
  }

  public void setRecordedByIds(List&lt;AgentIdentifier&gt; recordedByIds) {
<span class="fc" id="L2021">    this.recordedByIds = recordedByIds;</span>
<span class="fc" id="L2022">  }</span>

  @NotNull
  public List&lt;AgentIdentifier&gt; getIdentifiedByIds() {
<span class="fc" id="L2026">    return identifiedByIds;</span>
  }

  public void setIdentifiedByIds(List&lt;AgentIdentifier&gt; identifiedByIds) {
<span class="fc" id="L2030">    this.identifiedByIds = identifiedByIds;</span>
<span class="fc" id="L2031">  }</span>

  @NotNull
  public Gadm getGadm() {
<span class="fc" id="L2035">    return gadm;</span>
  }

  public void setGadm(Gadm gadm) {
<span class="fc" id="L2039">    this.gadm = gadm;</span>
<span class="fc" id="L2040">  }</span>

  @Nullable
  @Experimental
  public String getInstitutionKey() {
<span class="fc" id="L2045">    return institutionKey;</span>
  }

  public void setInstitutionKey(String institutionKey) {
<span class="nc" id="L2049">    this.institutionKey = institutionKey;</span>
<span class="nc" id="L2050">  }</span>

  @Nullable
  @Experimental
  public String getCollectionKey() {
<span class="fc" id="L2055">    return collectionKey;</span>
  }

  public void setCollectionKey(String collectionKey) {
<span class="nc" id="L2059">    this.collectionKey = collectionKey;</span>
<span class="nc" id="L2060">  }</span>

  public boolean getIsInCluster() {
<span class="fc" id="L2063">    return isInCluster;</span>
  }

  public void setIsInCluster(boolean isInCluster) {
<span class="fc" id="L2067">    this.isInCluster = isInCluster;</span>
<span class="fc" id="L2068">  }</span>

  @Nullable
  public String getDegreeOfEstablishment() {
<span class="fc" id="L2072">    return degreeOfEstablishment;</span>
  }

  public void setDegreeOfEstablishment(String degreeOfEstablishment) {
<span class="nc" id="L2076">    this.degreeOfEstablishment = degreeOfEstablishment;</span>
<span class="nc" id="L2077">  }</span>

  @Nullable
  public String getPathway() {
<span class="fc" id="L2081">    return pathway;</span>
  }

  public void setPathway(String pathway) {
<span class="nc" id="L2085">    this.pathway = pathway;</span>
<span class="nc" id="L2086">  }</span>

  public String getDatasetID() {
<span class="fc" id="L2089">    return datasetID;</span>
  }

  public void setDatasetID(String datasetID) {
<span class="nc" id="L2093">    this.datasetID = datasetID;</span>
<span class="nc" id="L2094">  }</span>

  public String getDatasetName() {
<span class="fc" id="L2097">    return datasetName;</span>
  }

  public void setDatasetName(String datasetName) {
<span class="nc" id="L2101">    this.datasetName = datasetName;</span>
<span class="nc" id="L2102">  }</span>

  public String getOtherCatalogNumbers() {
<span class="fc" id="L2105">    return otherCatalogNumbers;</span>
  }

  public void setOtherCatalogNumbers(String otherCatalogNumbers) {
<span class="nc" id="L2109">    this.otherCatalogNumbers = otherCatalogNumbers;</span>
<span class="nc" id="L2110">  }</span>

  @Nullable
  public String getEarliestEonOrLowestEonothem() {
<span class="fc" id="L2114">    return earliestEonOrLowestEonothem;</span>
  }

  public void setEarliestEonOrLowestEonothem(String earliestEonOrLowestEonothem) {
<span class="nc" id="L2118">    this.earliestEonOrLowestEonothem = earliestEonOrLowestEonothem;</span>
<span class="nc" id="L2119">  }</span>

  @Nullable
  public String getLatestEonOrHighestEonothem() {
<span class="fc" id="L2123">    return latestEonOrHighestEonothem;</span>
  }

  public void setLatestEonOrHighestEonothem(String latestEonOrHighestEonothem) {
<span class="nc" id="L2127">    this.latestEonOrHighestEonothem = latestEonOrHighestEonothem;</span>
<span class="nc" id="L2128">  }</span>

  @Nullable
  public String getEarliestEraOrLowestErathem() {
<span class="fc" id="L2132">    return earliestEraOrLowestErathem;</span>
  }

  public void setEarliestEraOrLowestErathem(String earliestEraOrLowestErathem) {
<span class="nc" id="L2136">    this.earliestEraOrLowestErathem = earliestEraOrLowestErathem;</span>
<span class="nc" id="L2137">  }</span>

  @Nullable
  public String getLatestEraOrHighestErathem() {
<span class="fc" id="L2141">    return latestEraOrHighestErathem;</span>
  }

  public void setLatestEraOrHighestErathem(String latestEraOrHighestErathem) {
<span class="nc" id="L2145">    this.latestEraOrHighestErathem = latestEraOrHighestErathem;</span>
<span class="nc" id="L2146">  }</span>

  @Nullable
  public String getEarliestPeriodOrLowestSystem() {
<span class="fc" id="L2150">    return earliestPeriodOrLowestSystem;</span>
  }

  public void setEarliestPeriodOrLowestSystem(String earliestPeriodOrLowestSystem) {
<span class="nc" id="L2154">    this.earliestPeriodOrLowestSystem = earliestPeriodOrLowestSystem;</span>
<span class="nc" id="L2155">  }</span>

  @Nullable
  public String getLatestPeriodOrHighestSystem() {
<span class="fc" id="L2159">    return latestPeriodOrHighestSystem;</span>
  }

  public void setLatestPeriodOrHighestSystem(String latestPeriodOrHighestSystem) {
<span class="nc" id="L2163">    this.latestPeriodOrHighestSystem = latestPeriodOrHighestSystem;</span>
<span class="nc" id="L2164">  }</span>

  @Nullable
  public String getEarliestEpochOrLowestSeries() {
<span class="fc" id="L2168">    return earliestEpochOrLowestSeries;</span>
  }

  public void setEarliestEpochOrLowestSeries(String earliestEpochOrLowestSeries) {
<span class="nc" id="L2172">    this.earliestEpochOrLowestSeries = earliestEpochOrLowestSeries;</span>
<span class="nc" id="L2173">  }</span>

  @Nullable
  public String getLatestEpochOrHighestSeries() {
<span class="fc" id="L2177">    return latestEpochOrHighestSeries;</span>
  }

  public void setLatestEpochOrHighestSeries(String latestEpochOrHighestSeries) {
<span class="nc" id="L2181">    this.latestEpochOrHighestSeries = latestEpochOrHighestSeries;</span>
<span class="nc" id="L2182">  }</span>

  @Nullable
  public String getEarliestAgeOrLowestStage() {
<span class="fc" id="L2186">    return earliestAgeOrLowestStage;</span>
  }

  public void setEarliestAgeOrLowestStage(String earliestAgeOrLowestStage) {
<span class="nc" id="L2190">    this.earliestAgeOrLowestStage = earliestAgeOrLowestStage;</span>
<span class="nc" id="L2191">  }</span>

  @Nullable
  public String getLatestAgeOrHighestStage() {
<span class="fc" id="L2195">    return latestAgeOrHighestStage;</span>
  }

  public void setLatestAgeOrHighestStage(String latestAgeOrHighestStage) {
<span class="nc" id="L2199">    this.latestAgeOrHighestStage = latestAgeOrHighestStage;</span>
<span class="nc" id="L2200">  }</span>

  @Nullable
  public String getLowestBiostratigraphicZone() {
<span class="fc" id="L2204">    return lowestBiostratigraphicZone;</span>
  }

  public void setLowestBiostratigraphicZone(String lowestBiostratigraphicZone) {
<span class="nc" id="L2208">    this.lowestBiostratigraphicZone = lowestBiostratigraphicZone;</span>
<span class="nc" id="L2209">  }</span>

  @Nullable
  public String getHighestBiostratigraphicZone() {
<span class="fc" id="L2213">    return highestBiostratigraphicZone;</span>
  }

  public void setHighestBiostratigraphicZone(String highestBiostratigraphicZone) {
<span class="nc" id="L2217">    this.highestBiostratigraphicZone = highestBiostratigraphicZone;</span>
<span class="nc" id="L2218">  }</span>

  @Nullable
  public String getGroup() {
<span class="fc" id="L2222">    return group;</span>
  }

  public void setGroup(String group) {
<span class="nc" id="L2226">    this.group = group;</span>
<span class="nc" id="L2227">  }</span>

  @Nullable
  public String getFormation() {
<span class="fc" id="L2231">    return formation;</span>
  }

  public void setFormation(String formation) {
<span class="nc" id="L2235">    this.formation = formation;</span>
<span class="nc" id="L2236">  }</span>

  @Nullable
  public String getMember() {
<span class="fc" id="L2240">    return member;</span>
  }

  public void setMember(String member) {
<span class="nc" id="L2244">    this.member = member;</span>
<span class="nc" id="L2245">  }</span>

  @Nullable
  public String getBed() {
<span class="fc" id="L2249">    return bed;</span>
  }

  public void setBed(String bed) {
<span class="nc" id="L2253">    this.bed = bed;</span>
<span class="nc" id="L2254">  }</span>

  public String getRecordedBy() {
<span class="fc" id="L2257">    return recordedBy;</span>
  }

  public void setRecordedBy(String recordedBy) {
<span class="nc" id="L2261">    this.recordedBy = recordedBy;</span>
<span class="nc" id="L2262">  }</span>

  public String getIdentifiedBy() {
<span class="fc" id="L2265">    return identifiedBy;</span>
  }

  public void setIdentifiedBy(String identifiedBy) {
<span class="nc" id="L2269">    this.identifiedBy = identifiedBy;</span>
<span class="nc" id="L2270">  }</span>

  public String getPreparations() {
<span class="fc" id="L2273">    return preparations;</span>
  }

  public void setPreparations(String preparations) {
<span class="nc" id="L2277">    this.preparations = preparations;</span>
<span class="nc" id="L2278">  }</span>

  public String getSamplingProtocol() {
<span class="fc" id="L2281">    return samplingProtocol;</span>
  }

  public void setSamplingProtocol(String samplingProtocol) {
<span class="nc" id="L2285">    this.samplingProtocol = samplingProtocol;</span>
<span class="nc" id="L2286">  }</span>

  public List&lt;String&gt; getDnaSequenceID() {
<span class="fc" id="L2289">    return dnaSequenceID;</span>
  }

  public void setDnaSequenceID(List&lt;String&gt; dnaSequenceID) {
<span class="fc" id="L2293">    this.dnaSequenceID = dnaSequenceID;</span>
<span class="fc" id="L2294">  }</span>

  /**
   * Convenience method checking if any spatial validation rule has not passed.
   * Primarily used to indicate that the record should not be displayed on a map.
   */
  @JsonIgnore
  public boolean hasSpatialIssue() {
<span class="fc bfc" id="L2302" title="All 2 branches covered.">    for (OccurrenceIssue rule : OccurrenceIssue.GEOSPATIAL_RULES) {</span>
<span class="fc bfc" id="L2303" title="All 2 branches covered.">      if (issues.contains(rule)) {</span>
<span class="fc" id="L2304">        return true;</span>
      }
<span class="fc" id="L2306">    }</span>
<span class="fc" id="L2307">    return false;</span>
  }

  /**
   * This private method is only for serialization via jackson and not exposed anywhere else!
   * It maps the verbatimField terms into properties with their simple name or qualified names for UnknownTerms.
   */
  @JsonAnyGetter
  private Map&lt;String, String&gt; jsonVerbatimFields() {
<span class="fc" id="L2316">    Map&lt;String, String&gt; extendedProps = new HashMap&lt;&gt;();</span>
<span class="fc bfc" id="L2317" title="All 2 branches covered.">    for (Map.Entry&lt;Term, String&gt; prop : getVerbatimFields().entrySet()) {</span>
<span class="fc" id="L2318">      Term t = prop.getKey();</span>
<span class="fc bfc" id="L2319" title="All 4 branches covered.">      if (t instanceof UnknownTerm || PROPERTIES.contains(t.simpleName())) {</span>
<span class="fc" id="L2320">        extendedProps.put(t.qualifiedName(), prop.getValue());</span>
      } else {
        // render all terms in controlled enumerations as simple names only - unless we have a property of that name already!
<span class="fc" id="L2323">        extendedProps.put(t.simpleName(), prop.getValue());</span>
      }
<span class="fc" id="L2325">    }</span>
<span class="fc" id="L2326">    return extendedProps;</span>
  }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.11.202310140853</span></div></body></html>